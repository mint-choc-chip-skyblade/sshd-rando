F000: # Skyloft
  # F000 arcnadds
  - name: Add Trial Arcs
    type: arcnadd
    layer: 0
    room: 0
    arcn:
      - PLHarpPlay
      - PLSwordStick
      - SirenEntrance
  - name: Owlan on layer 6 Arcs
    type: arcnadd
    layer: 6
    room: 0
    arcn:
      - ShinkanA
      - Shinkan_motion
  - name: Horwell on layer 4 Arc
    type: arcnadd
    layer: 4
    room: 0
    arcn:
      - ShinkanB
  - name: Horwell on layer 6 Arc
    type: arcnadd
    layer: 6
    room: 0
    arcn:
      - ShinkanB

  # F000 objadds
  - name: Light Tower SwHrp on layer 6
    type: objadd
    layer: 6
    room: 0
    objtype: OBJ
    object:
      params1: 0xFF0F021D
      params2: 0xFFFFFFFF
      posx: 3040
      posy: 2175
      posz: 6084
      anglex: 0
      angley: 3276
      anglez: 0
      id: 0xFDC3
      name: SwHrp
  - name: Horwell on layer 4
    type: objadd
    layer: 4
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFDFF
      params2: 0xFF5FFFFF
      posx: -4458.7373046875
      posy: 1717.4801025390625
      posz: -7820.41455078125
      anglex: 7423
      angley: 62260
      anglez: 10801
      id: 0x05C6
      name: NpcSkn2
  - name: Horwell on layer 6
    type: objadd
    layer: 6
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFDFF
      params2: 0xFF5FFFFF
      posx: -4458.7373046875
      posy: 1717.4801025390625
      posz: -7820.41455078125
      anglex: 7423
      angley: 62260
      anglez: 10801
      id: 0x05C6
      name: NpcSkn2
  - name: Mia on layer 4
    type: objadd
    layer: 4
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFF0A1C1
      params2: 0xFFFFFFFF
      posx: -8431.8837890625
      posy: 2853.16015625
      posz: -7843.978515625
      anglex: 0
      angley: 32768
      anglez: 0
      id: 0xFDC8
      name: ERemly
  - name: Mia on layer 6
    type: objadd
    layer: 6
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFF0A1C1
      params2: 0xFFFFFFFF
      posx: -8431.8837890625
      posy: 2853.16015625
      posz: -7843.978515625
      anglex: 0
      angley: 32768
      anglez: 0
      id: 0xFDC8
      name: ERemly
  - name: Move TgMiens to layer 0
    type: objmove
    startid: 0xFDEE
    endid: 0xFDF1
    layer: 1
    destlayer: 0
    room: 0
    objtype: STAG
  - name: Move NpcInv to layer 0
    type: objmove
    id: 0xFDE2
    layer: 1
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Owlan on layer 6
    type: objadd
    layer: 6
    room: 0
    objtype: OBJ
    object: # copied from the layer 4 version
      params1: 0xFFFFFF31
      params2: 0xFF5FFFFF
      posx: -5296.68310546875
      posy: 1237.6900634765625
      posz: -6928.24267578125
      anglex: 65535
      angley: 0
      anglez: 10811
      id: 0xFDDD
      name: NpcSkn
  - name: Add ammo pot to Upper Skyloft Lower Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -4800
      posy: 1237.578857
      posz: -6330
      name: Tubo
  - name: Add ammo pot to Upper Skyloft Upper Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -2240
      posy: 1880.569946
      posz: -9620
      name: Tubo
  - name: Add ammo pot to Central Skyloft Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 2070
      posy: 390.370575
      posz: 820
      name: Tubo
  - name: Add ammo pot to after Waterfall Cave Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 4140
      posy: -3157.320068
      posz: -5830
      name: Tubo
  - name: Add entrance to simulate coming from chimney
    type: objadd
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
      byte4: -1
      posx: -6450.0
      posy: 2800.0
      posz: -9300.0
      entrance_id: 100

  # F000 objdeletes
  - name: Remove people on bridge (layer 1)
    type: objdelete
    ids:
      - 0x05D5
      - 0x05D6
      # - 0x05D7
    layer: 1
    room: 0
    objtype: OBJ
  - name: Remove objects layer 4
    type: objdelete
    ids:
      - 0xFDCC # Wryna
      - 0xFDCD # Wryna
      - 0xFDF0 # Wryna
      - 0xFDF3 # Fi text after trial
      - 0xFDCA # Fi text on stairs
      - 0xFDC7 # Orielle before Wryna
      - 0xFDC6 # Parrow before Wryna
      - 0xFDF8 # Parrow cutscene
      - 0xFDD5 # Trial gate
      - 0xFDCE # Fledge outside Upper Academy doors
    layer: 4
    room: 0
    objtype: OBJ
  - name: Remove Trial butterflies layer 4
    type: objdelete
    id: 0xFDFE
    layer: 4
    room: 0
    objtype: STAG
  - name: Remove objects layer 5
    type: objdelete
    ids:
      - 0xFDFE # Fi text after trial
      - 0xFDC5 # Extra Pipit
    layer: 5
    room: 0
    objtype: OBJ
  - name: Remove objects layer 6
    type: objdelete
    ids:
      - 0xFDD0 # Wryna
      - 0xFDD1 # Wryna
      - 0xFDCD # Orielle before Wryna
      - 0xFDCC # Parrow before Wryna
      - 0xFDE9 # Parrow cutscene
      - 0xFDD2 # Fledge outside Upper Academy doors
    layer: 6
    room: 0
    objtype: OBJ
  - name: Remove extra Pipit l7
    type: objdelete
    id: 0xFDE3
    layer: 7
    room: 0
    objtype: OBJ
  - name: Remove extra Pipit l9
    type: objdelete
    id: 0xFDE2
    layer: 9
    room: 0
    objtype: OBJ
  - name: Remove dowsing targets
    type: objdelete
    ids:
      - 0xFD4D # Propeller
      - 0xFD4A # Faron Trial
      - 0xFD50 # Lanayru Trial
      - 0xFD4C # Eldin Trial
    layer: 0
    room: 0
    objtype: STAG

  # Sky Keep open layers
  - name: Add Chest near Goddess Statue to layer 6
    type: objadd
    layer: 6
    room: 0
    objtype: OBJS
    object:
      params1: 0xFFFFFFF3
      params2: 0xFF5FFFFF
      posx: 666.327332
      posy: 2893.23999
      posz: -13083.1475
      anglex: 65535
      angley: 59591
      anglez: 36356
      name: TBox
  - name: Add Chest near Goddess Statue to layer 7
    type: objadd
    layer: 7
    room: 0
    objtype: OBJS
    object:
      params1: 0xFFFFFFF3
      params2: 0xFF5FFFFF
      posx: 666.327332
      posy: 2893.23999
      posz: -13083.1475
      anglex: 65535
      angley: 59591
      anglez: 36356
      name: TBox

  # Trial stuff
  - name: Move Trial Gate to layer 0
    type: objmove
    id: 0xFDD7
    layer: 5
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Remove Trial Butterflies to layer 0
    type: objmove
    id: 0xFE15
    layer: 5
    destlayer: 0
    room: 0
    objtype: STAG

  # Bird's Nest stuff
  - name: Sand Size fix
    type: objpatch
    id: 0xFD02
    layer: 0
    room: 0
    objtype: SOBJ
    object:
      sizex: 3.2
      sizey: 4.5
      sizez: 3.2
  - name: Move Bird Nest North Rupee
    type: objpatch
    id: 0xFC5D
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posx: 5425
      posy: 1940
      posz: -5425
  - name: Move Bird Nest East Rupee
    type: objpatch
    id: 0xFC5C
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posx: 5595
      posy: 1940
      posz: -5135
  - name: Move Bird Nest South Rupee
    type: objpatch
    id: 0xFC5B
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posx: 5325
      posy: 1940
      posz: -4955
  - name: Move Bird Nest West Rupee
    type: objpatch
    id: 0xFC5E
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posx: 5145
      posy: 1940
      posz: -5265

  # Fledge
  - name: Fledge for Arrow minigame
    type: objpatch
    id: 0xFDD8
    layer: 4
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 944 # bow
  - name: Fledge for Arrow minigame
    type: objpatch
    id: 0xFDD7
    layer: 6
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 944 # bow

  # Pipit
  - name: Always spawn Pipit at night l5
    type: objpatch
    id: 0xFDC4
    layer: 5
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1
      untrigstoryfid: -1
  - name: Always spawn Pipit at night l7
    type: objpatch
    id: 0xFDE2
    layer: 7
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1
      untrigstoryfid: -1
  - name: Always spawn Pipit at night l9
    type: objpatch
    id: 0xFDE1
    layer: 9
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1
      untrigstoryfid: -1

  - name: Fix Owlan disappearing after Harp
    type: objpatch
    room: 0
    id: 0xFDDC
    layer: 4
    objtype: OBJ
    object:
      untrigstoryfid: -1

  # Parrow
  - name: Always spawn Parrow for quest l4
    type: objpatch
    id: 0xFDD3
    layer: 4
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1
  - name: Always spawn Parrow for quest l6
    type: objpatch
    id: 0xFDD5
    layer: 6
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1

  - name: Remove SoT placement cutscene
    type: objpatch
    index: 46
    room: 0
    objtype: SCEN
    object:
      layer: 6
      entrance: 52

  # Move Loose Crystal checks to night layers
  ## Crystal on West Cliff
  - name: Move crystal on West Cliff to l2
    type: objmove
    id: 0xFCA2
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ
  - name: Add crystal on West Cliff to l5
    type: objadd
    room: 0
    layer: 5
    id: 0xFCA2
    objtype: OBJ
    object:
      params1: 0xFF0DC630
      params2: 0xFFFFFFFF
      posx: -4045.677490234375
      posy: -1795.4300537109375
      posz: -904.0946044921875
      id: 0xFCA2
      name: Item
  - name: Add crystal on West Cliff to l7
    type: objadd
    room: 0
    layer: 7
    id: 0xFCA2
    objtype: OBJ
    object:
      params1: 0xFF0DC630
      params2: 0xFFFFFFFF
      posx: -4045.677490234375
      posy: -1795.4300537109375
      posz: -904.0946044921875
      id: 0xFCA2
      name: Item
  - name: Add crystal on West Cliff to l9
    type: objadd
    room: 0
    layer: 9
    id: 0xFCA2
    objtype: OBJ
    object:
      params1: 0xFF0DC630
      params2: 0xFFFFFFFF
      posx: -4045.677490234375
      posy: -1795.4300537109375
      posz: -904.0946044921875
      id: 0xFCA2
      name: Item

  ## Crystal between Wooden Planks
  - name: Rotate crystal between Wooden Planks
    type: objpatch
    id: 0xFCA1
    layer: 0
    room: 0
    objtype: OBJ
    object:
      angley: 32000
  - name: Move crystal between Wooden Planks to l2
    type: objmove
    id: 0xFCA1
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ
  - name: Add crystal between Wooden Planks to l5
    type: objadd
    room: 0
    layer: 5
    id: 0xFCA1
    objtype: OBJ
    object:
      params1: 0xFF0DC230
      params2: 0xFFFFFFFF
      posx: -1796.03759765625
      posy: 402.030029296875
      posz: -5601.87255859375
      angley: 32000
      id: 0xFCA1
      name: Item
  - name: Add crystal between Wooden Planks to l7
    type: objadd
    room: 0
    layer: 7
    id: 0xFCA1
    objtype: OBJ
    object:
      params1: 0xFF0DC230
      params2: 0xFFFFFFFF
      posx: -1796.03759765625
      posy: 402.030029296875
      posz: -5601.87255859375
      angley: 32000
      id: 0xFCA1
      name: Item
  - name: Add crystal between Wooden Planks to l9
    type: objadd
    room: 0
    layer: 9
    id: 0xFCA1
    objtype: OBJ
    object:
      params1: 0xFF0DC230
      params2: 0xFFFFFFFF
      posx: -1796.03759765625
      posy: 402.030029296875
      posz: -5601.87255859375
      angley: 32000
      id: 0xFCA1
      name: Item

  ## Crystal after Waterfall Cave
  - name: Move crystal after waterfall cave to l2
    type: objmove
    id: 0xFCA0
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ
  - name: Add crystal after waterfall cave to l5
    type: objadd
    room: 0
    layer: 5
    id: 0xFCA0
    objtype: OBJ
    object:
      params1: 0xFF0DBE30
      params2: 0xFFFFFFFF
      posx: 4273.537109375
      posy: -3157.320068359375
      posz: -4997.53173828125
      id: 0xFCA0
      name: Item
  - name: Add crystal after waterfall cave to l7
    type: objadd
    room: 0
    layer: 7
    id: 0xFCA0
    objtype: OBJ
    object:
      params1: 0xFF0DBE30
      params2: 0xFFFFFFFF
      posx: 4273.537109375
      posy: -3157.320068359375
      posz: -4997.53173828125
      id: 0xFCA0
      name: Item
  - name: Add crystal after waterfall cave to l9
    type: objadd
    room: 0
    layer: 9
    id: 0xFCA0
    objtype: OBJ
    object:
      params1: 0xFF0DBE30
      params2: 0xFFFFFFFF
      posx: 4273.537109375
      posy: -3157.320068359375
      posz: -4997.53173828125
      id: 0xFCA0
      name: Item

  ## Crystal in Loftwing Prison
  - name: Patch y-offset for crystal in loftwing prison (l2)
    type: objpatch
    id: 0xFC9F
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posy: -3708
  - name: Move crystal in loftwing prison to l2
    type: objmove
    id: 0xFC9F
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ
  - name: Add crystal in loftwing prison to l5
    type: objadd
    room: 0
    layer: 5
    id: 0xFC9F
    objtype: OBJ
    object:
      params1: 0xFF0DBA30
      params2: 0xFFFFFFFF
      posx: 9222.8779296875
      posy: -3708
      posz: -4296.15576171875
      id: 0xFC9F
      name: Item
  - name: Add crystal in loftwing prison to l7
    type: objadd
    room: 0
    layer: 7
    id: 0xFC9F
    objtype: OBJ
    object:
      params1: 0xFF0DBA30
      params2: 0xFFFFFFFF
      posx: 9222.8779296875
      posy: -3708
      posz: -4296.15576171875
      id: 0xFC9F
      name: Item
  - name: Add crystal in loftwing prison to l9
    type: objadd
    room: 0
    layer: 9
    id: 0xFC9F
    objtype: OBJ
    object:
      params1: 0xFF0DBA30
      params2: 0xFFFFFFFF
      posx: 9222.8779296875
      posy: -3708
      posz: -4296.15576171875
      id: 0xFC9F
      name: Item

  ## Crystal on Waterfall Island
  - name: Move crystal on waterfall island to l2
    type: objmove
    id: 0xFC9E
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ
  - name: Add crystal on waterfall island to l5
    type: objadd
    room: 0
    layer: 5
    id: 0xFC9E
    objtype: OBJ
    object:
      params1: 0xFF0DB630
      params2: 0xFFFFFFFF
      posx: 9407.48828125
      posy: 4130.65771484375
      posz: -6259.48291015625
      id: 0xFC9E
      name: Item
  - name: Add crystal on waterfall island to l7
    type: objadd
    room: 0
    layer: 7
    id: 0xFC9E
    objtype: OBJ
    object:
      params1: 0xFF0DB630
      params2: 0xFFFFFFFF
      posx: 9407.48828125
      posy: 4130.65771484375
      posz: -6259.48291015625
      id: 0xFC9E
      name: Item
  - name: Add crystal on waterfall island to l9
    type: objadd
    room: 0
    layer: 9
    id: 0xFC9E
    objtype: OBJ
    object:
      params1: 0xFF0DB630
      params2: 0xFFFFFFFF
      posx: 9407.48828125
      posy: 4130.65771484375
      posz: -6259.48291015625
      id: 0xFC9E
      name: Item

  ## Crystal on Light Tower
  - name: Move crystal on light tower to l2
    type: objmove
    id: 0xFC9C
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ
  - name: Add crystal on light tower to l5
    type: objadd
    room: 0
    layer: 5
    id: 0xFC9C
    objtype: OBJ
    object:
      params1: 0xFF0DAA30
      params2: 0xFFFFFFFF
      posx: 3651.93896484375
      posy: 487.5
      posz: 5633.90869140625
      id: 0xFC9C
      name: Item
  - name: Add crystal on light tower to l7
    type: objadd
    room: 0
    layer: 7
    id: 0xFC9C
    objtype: OBJ
    object:
      params1: 0xFF0DAA30
      params2: 0xFFFFFFFF
      posx: 3651.93896484375
      posy: 487.5
      posz: 5633.90869140625
      id: 0xFC9C
      name: Item
  - name: Add crystal on light tower to l9
    type: objadd
    room: 0
    layer: 9
    id: 0xFC9C
    objtype: OBJ
    object:
      params1: 0xFF0DAA30
      params2: 0xFFFFFFFF
      posx: 3651.93896484375
      posy: 487.5
      posz: 5633.90869140625
      id: 0xFC9C
      name: Item

  ## Crystal near Pumpkin Patch
  - name: Move crystal near pumpkin patch to l2
    type: objmove
    id: 0xFC9D
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ
  - name: Add crystal near pumpkin patch to l5
    type: objadd
    room: 0
    layer: 5
    id: 0xFC9D
    objtype: OBJ
    object:
      params1: 0xFF0DB230
      params2: 0xFFFFFFFF
      posx: 11085.0029296875
      posy: 1121.711669921875
      posz: -1688.4466552734375
      id: 0xFC9D
      name: Item
  - name: Add crystal near pumpkin patch to l7
    type: objadd
    room: 0
    layer: 7
    id: 0xFC9D
    objtype: OBJ
    object:
      params1: 0xFF0DB230
      params2: 0xFFFFFFFF
      posx: 11085.0029296875
      posy: 1121.711669921875
      posz: -1688.4466552734375
      id: 0xFC9D
      name: Item
  - name: Add crystal near pumpkin patch to l9
    type: objadd
    room: 0
    layer: 9
    id: 0xFC9D
    objtype: OBJ
    object:
      params1: 0xFF0DB230
      params2: 0xFFFFFFFF
      posx: 11085.0029296875
      posy: 1121.711669921875
      posz: -1688.4466552734375
      id: 0xFC9D
      name: Item
  
  - name: Move Stamina Fruit near Orielle and Parrow's House
    type: objpatch
    id: 0xFCD8
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posy: 114

F001r:
  - name: Remove nighttime NPCs
    type: objdelete
    ids:
      - 0xFC80 # Fi text in Academy at night
      - 0xFC7C # Pipit at night
      - 0xFC7E # Fledge's Gift NpcTke
    layer: 4
    room: 0
    objtype: OBJ
  - name: Remove NPC actors
    type: objdelete
    ids:
      - 0xFC78 # Daytime Fledge's Gift NpcTke
      - 0xFC86 # vanilla l3 Lunch Lady
    layer: 3
    room: 0
    objtype: OBJ
  - name: Move l1 Lunch Lady to l3
    type: objmove
    id: 0xFC7B
    layer: 1
    destlayer: 3
    room: 0
    objtype: OBJ
  - name: Patch barrel params so Henya can detect it
    type: objpatch
    id: 0xFC83
    layer: 3
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFF30
  - name: Move Fledge closer to Link's room at night
    type: objpatch
    id: 0xFC7D
    layer: 4
    room: 0
    objtype: OBJ
    object:
      posx: 850
      posz: -1700
      talk_behaviour: 11401
  - name: Move Fledge closer to Link's room at day
    type: objpatch
    id: 0xFC77
    layer: 3
    room: 0
    objtype: OBJ
    object:
      posx: 850
      posz: -1700
      talk_behaviour: 11401
  - name: Fledge trains without Wryna
    type: objpatch
    id: 0xFC10
    layer: 4
    room: 1
    objtype: OBJ
    object:
      trigstoryfid: -1
  - name: Keep cawlin with Letter check
    type: objpatch
    id: 0xFC7A
    layer: 3
    room: 0
    objtype: OBJ
    object:
      untrigstoryfid: 2047
  - name: Owlan Npc after Kikwis
    type: objpatch
    id: 0xFC0A
    layer: 3
    room: 5
    objtype: OBJ
    object:
      trigstoryfid: 57 # talk to Elder after locating every Kikwi
  - name: Untrigger other Owlan
    type: objpatch
    id: 0xFC0B
    layer: 3
    room: 5
    objtype: OBJ
    object:
      untrigstoryfid: 57 # talk to Elder after locating every Kikwi
  - name: Toilethand trig
    type: objpatch
    id: 0xFC76
    layer: 4
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1
  - name: Toilethand inv
    type: objpatch
    id: 0xFC7B
    layer: 4
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1

  # Move Loose Crystal checks to night layers
  - name: Raise crystal in Link's room
    type: objpatch
    id: 0xFC0C
    layer: 0
    room: 1
    objtype: OBJ
    object:
      posy: 102.0
  - name: Move crystal in Link's room to night layer
    type: objmove
    id: 0xFC0C
    layer: 0
    destlayer: 4
    room: 1
    objtype: OBJ
  - name: Rotate Academy plant crystal
    type: objpatch
    id: 0xFC4B
    layer: 0
    room: 0
    objtype: OBJ
    object:
      angley: 52000
  - name: Move Academy plant crystal to night layer
    type: objmove
    id: 0xFC4B
    layer: 0
    destlayer: 4
    room: 0
    objtype: OBJ
  - name: Move crystal in Zelda's room to night layer
    type: objmove
    id: 0xFC09
    layer: 0
    destlayer: 4
    room: 6
    objtype: OBJ

F002r: # Beedle's Airshop
  - name: Remove Cutscenes
    type: objdelete
    ids:
      - 0xFC11
      - 0xFC13
    layer: 1
    room: 0
    objtype: STAG
  - name: Add shop rupee models
    type: arcnadd
    layer: 1
    room: 0
    arcn:
      - GetBlueRupee
      - GetRedRupee
      - GetSilverRupee
      - GetGoldRupee
      - GetRupoor

F004r: # Bazaar
  - name: Remove goddess chest fi text
    type: objdelete
    id: 0xFC7D
    layer: 0
    room: 0
    objtype: OBJ
  - name: Patch Scrapper Junk Despawn Flag
    type: objpatch
    id: 0xFC74
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0x285FFCFF # >> 21 == 322

F005r: # Orielle and Parrow's House
  - name: Always Spawn Parrow
    type: objpatch
    id: 0xFC15
    layer: 2
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1 # always Trigger
  - name: Remove Parrow and Orielle before Crystal Quest (Wryna)
    type: objdelete
    ids:
      - 0xFC13 # Parrow
      - 0xFC14 # Orielle
    layer: 2
    room: 0
    objtype: OBJ
  - name: Rotate crystal in Orielle and Parrow's house
    type: objpatch
    id: 0xFC0F
    layer: 0
    room: 0
    objtype: OBJ
    object:
      angley: 44000
  - name: Move crystal in Orielle and Parrow's house to night layer
    type: objmove
    id: 0xFC0F
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ

F008r: # Goddess Statue
  # Removed all flags and default to layer 0
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 2
        layer: 0
  - name: Fi text after pulling Goddess Sword
    type: objadd
    room: 0
    layer: 0
    id: 0xFC00
    objtype: OBJ
    object:
      params1: 0xFFFFFF01 # type 1, no fi, flag sets automatically
      params2: 0xFF1FFFFF
      posx: 0
      posy: 0 # doesn't matter, is triggered anywhere
      posz: 0
      angley: 0xFFFF
      anglez: 10750 # entrypoint 107_50
      id: 0xFC00
      name: NpcTke
      trigstoryfid: 951 # Raised Goddess Sword in Goddess Statue
      untrigscenefid: 25 # Scene flag 25 - Skyward Strike on Tablet Pedestal (unused in rando)
  - name: Delete Crest
    type: objdelete
    id: 0xFC02
    layer: 0
    room: 0
    objtype: OBJ

F009r: # Sparring Hall
  - name: Move Sparring Hall crystal to night layer
    type: objmove
    id: 0xFC0C
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ

F010r: # Isle of Songs Tower
  - name: Add ammo pot to Isle of Songs Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 170
      posy: 395.3815918
      posz: 4650
      name: Tubo
  - name: Remove Dowsing Targets 1
    type: objdelete
    ids:
      - 0xFC02 # Faron
      - 0xFC03 # Lanayru
      - 0xFC04 # Eldin
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove Dowsing Targets 2
    type: objdelete
    ids:
      - 0xFC09 # Faron
      - 0xFC08 # Lanayru
      - 0xFC07 # Eldin
    layer: 0
    room: 0
    objtype: STAG

F011r: # Lumpy Pumpkin
  - name: Remove Lumpy Pumpkin Cutscenes
    type: objdelete
    ids:
      - 0xFC42
      - 0xFC43
      - 0xFC44 # New
      - 0xFC45 # New
    layer: 0
    room: 0
    objtype: OBJ
  - name: Move crystal in Lumpy Pumpkin to night layer
    type: objmove
    id: 0xFC3F
    layer: 0
    destlayer: 2
    room: 0
    objtype: OBJ

F012r: # Batreaux House
  - name: Batreaux unlock
    type: objpatch
    id: 0xFC00
    layer: 0
    room: 0
    objtype: OBJS
    object:
      anglex: 0xFF00 # sets the flag to -1 (meaning open)
  - name: Remove Crystal Dowsing
    type: objdelete
    id: 0xFC23
    layer: 1
    room: 0
    objtype: OBJ
  - name: Remove text trigger around 30 Crystal Chest
    type: objdelete
    id: 0xFC22
    layer: 1
    room: 0
    objtype: OBJ

F013r: # Sparrot's House
  - name: Sparrot spawn
    type: objpatch
    id: 0xFC0F
    layer: 0
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1 # always there
  - name: Sparrot at night
    type: objdelete
    id: 0xFC17
    layer: 2
    room: 0
    objtype: OBJ

F020: # The Sky
  - name: Add ammo pot to Lumpy Pumpkin Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 102000
      posy: -10643.59375
      posz: 47020
      name: Tubo

  # Allow flying at night
  - name: Add Bird Arcs to Layer 0
    onlyif: natural_night_connections == off or allow_flying_at_night == on
    type: arcnadd
    layer: 0
    room: 0
    arcn:
      - BirdAnm
      - BirdLinkAnm
      - PLBird
  - name: Move PyBird from Layer 2 to 0
    onlyif: natural_night_connections == off or allow_flying_at_night == on
    type: objmove
    id: 0xFD05
    layer: 2
    destlayer: 0
    room: 0
    objtype: OBJ

  - name: Fi text about goddess cubes
    type: objdelete
    id: 0xFD0F
    layer: 2
    room: 0
    objtype: OBJ
  - name: Never untrigger first Faron loadzone
    type: objpatch
    id: 0xFC8B
    layer: 0
    room: 0
    objtype: STAG
    object:
      untrigstoryfid: -1
  - name: Remove Wryna requirement for Orielle
    type: objpatch
    id: 0xFCFB
    layer: 2
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1
  - name: Remove Wryna requirement for Orielle's bird
    type: objpatch
    id: 0xFD0E
    layer: 2
    room: 0
    objtype: OBJ
    object:
      params1: 0xCBFFFFFF # make it always spawn
  - name: Remove STAGs
    type: objdelete
    ids:
      - 0xFC96 # Faron loadzone after Groose
      - 0xFCAD # Propeller dowsing target
      - 0xFCAA # Faron trial dowsing target
      - 0xFCB0 # Lanayru trial dowsing target
      - 0xFCAC # Eldin trial dowsing target
      - 0xFCB3 # Skyloft trial dowsing target
    layer: 0
    room: 0
    objtype: STAG
  - name: Enlarge Thunderhead Entrance
    type: objpatch
    id: 0xFC9D
    layer: 0
    room: 0
    objtype: STAG
    object:
      posy: -4500
      sizex: 12000
      sizey: 12800

  - name: Rotate crystal outside Lumpy Pumpkin
    type: objpatch
    id: 0xFC77
    layer: 0
    room: 0
    objtype: OBJ
    object:
      angley: 40000
  - name: Move Crystals to night layer
    type: objmove
    ids:
      - 0xFC77 # Lumpy Crystal
      - 0xFC38 # Beedle Crystal
    layer: 0
    destlayer: 4
    room: 0
    objtype: OBJ

F023: # Thunderhead
  - name: Add Arcs layer 0
    type: arcnadd
    layer: 0
    room: 0
    arcn:
      - GossipStone
  - name: Add Arcs layer 1
    type: arcnadd
    layer: 1
    room: 0
    arcn:
      - KobunB # Stritch
  - name: Add Stritch to layer 1
    type: objadd
    layer: 1
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFCFF
      params2: 0xFF5FFFFF
      posx: -170960.21875
      posy: 18262
      posz: -51642.58984375
      anglex: 65535
      angley: 56434
      anglez: 11601
      id: 0xFCEF
      name: NpcIcgK
  - name: Void out during Bug Heaven minigame
    type: objadd
    layer: 13
    room: 0
    objtype: STAG
    object:
      params1: 0xFFCFFF06
      params2: 0xFFDFFFFF
      posx: -165885
      posy: 16506
      posz: -52597
      sizex: 50463
      sizey: 1000
      sizez: 50463
      anglex: 0
      angley: 0
      anglez: 0xFFFF
      id: 0xFC00
      name: PlRsTag
  - name: Fi text after Levias
    type: objadd
    room: 0
    layer: 0
    id: 0xFC13
    objtype: OBJ
    object:
      params1: 0x74C32301 # triggered by story flag 200, untriggered by story flag 934
      params2: 0xFF1FFFFF
      posx: 0
      posy: 0 # doesn't matter, is triggered anywhere
      posz: 0
      anglex: 0xFFFF
      angley: 0xFFFF
      anglez: 12003 # entrypoint 120_03
      id: 0xFC13
      name: NpcTke
  - name: Remove Levias Cutscene
    type: objpatch
    index: 6
    room: 0
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Move Gossip Stone to layer 0
    type: objmove
    id: 0xFCEE
    hardcoded_id: 0xFDFF
    layer: 2
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Move Gossip Stone Butterflies to layer 0
    type: objmove
    id: 0xFCF2
    layer: 2
    destlayer: 0
    room: 0
    objtype: STAG
  - name: Delete Isle of Songs intro Cutscene
    type: objdelete
    id: 0xFC89
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove confounding propeller dowsing
    type: objdelete
    ids:
      - 0xFCAE # Propeller dowsing target
      - 0xFCAB # Faron trial dowsing target
      - 0xFCB1 # Lanayru trial dowsing target
      - 0xFCAD # Eldin trial dowsing target
      - 0xFCB4 # Skyloft trial dowsing target
      - 0xFCA3 # Skylfot trial dowsing target
    layer: 0
    room: 0
    objtype: STAG
  - name: Remove isle of songs puzzle complete cutscene
    type: objpatch
    id: 0xFC07
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFF01C5 # 00 FF 00 00 yeets the event call

F100: # Faron Woods
  # Removed all but Owlan's flag and default to layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 479 # Owlan's Crystal Quest Started
        night: 0
        layer: 5
      - story_flag: -1
        night: 0
        layer: 1
  - name: Add Arcs layer 0
    type: arcnadd
    layer: 0
    room: 0
    arcn:
      - PLHarpPlay
      - PLSwordStick
      - SirenEntrance
      - SwrdPrj
  - name: Add Arcs layer 1
    type: arcnadd
    layer: 1
    room: 0
    arcn:
      - ForestManWiz
  - name: Add ammo pot to Faron Woods Entry Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -8465
      posy: -918.6898193
      posz: -1580
      name: Tubo
  - name: Add ammo pot to In the Woods Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -2220
      posy: -497.8004456
      posz: 5560
      name: Tubo
  - name: Add ammo pot to The Great Tree Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -1170
      posy: 4979.450195
      posz: -4395
      name: Tubo
  - name: Add ammo pot to Viewing Platform Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 7230
      posy: 2102.997295
      posz: -9485
      name: Tubo
  - name: Always spawn Lopsa
    type: objpatch
    id: 0x56B9
    layer: 1
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 226 # hero mode (aka always)
  - name: Always spawn Erla
    type: objpatch
    id: 0x5EBA
    layer: 1
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 226 # hero mode (aka always)
  - name: Always spawn Oolo
    type: objpatch
    id: 0x0AB8
    layer: 1
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 226 # hero mode (aka always)
  # These patches make it so that the bokos around Machi don't trigger a cutscene.
  # This is necessary to allow the Kikwis to be saved in any order (specifically,
  # triggering the Lopsa bokos breaks the Machi bokos and requires the area be reloaded).
  # If this seems like voodoo magic, that's because it is :p
  - name: Patch Machi boko 1
    type: objpatch
    id: 0x66D1
    layer: 1
    room: 0
    objtype: OBJ
    object:
      params1: 0xF1FFFF20 # 0xF0... -> 0xF1...
  - name: Patch Machi boko 2
    type: objpatch
    id: 0x66D2
    layer: 1
    room: 0
    objtype: OBJ
    object:
      params1: 0xF1FFFF20 # 0xF0... -> 0xF1...
  - name: Remove Faron Woods Intro Cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Move Trial Gate
    type: objmove
    id: 0x02B4
    layer: 3
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Move Trial Butterflies
    type: objmove
    id: 0xFEE7
    layer: 3
    destlayer: 0
    room: 0
    objtype: STAG
  - name: Lake floria door 1
    type: objmove
    ids:
      - 0xFEEC
      - 0xFEF4
    layer: 4
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Lake floria door 2
    type: objmove
    id: 0xFEFF
    layer: 4
    destlayer: 0
    room: 0
    objtype: STAG
  # Makes sure you can still hit it even when the gates are open
  - name: Move Floria Gates TgReact up to Archway
    type: objpatch
    id: 0xFD65
    layer: 0
    room: 0
    objtype: SOBJ
    object:
      posy: 1600
  - name: Remove Fi text Not letting you leave Machi
    type: objdelete
    ids:
      - 0x0EBE
      - 0x0EBD
      - 0x66BC
    layer: 1
    room: 0
    objtype: OBJ
  - name: Remove G1 Feet Cutscene
    type: objdelete
    id: 0xFEEF
    layer: 1
    room: 0
    objtype: STAG
  - name: Yerbal Spawn
    type: objpatch
    id: 0x52BA
    layer: 4
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 206 # scale
  - name: Yerbal
    type: objmove
    id: 0x52BA
    layer: 4
    destlayer: 1
    room: 0
    objtype: OBJ
  - name: Move Map and Cam for Yerbal Floria door hint
    type: objmove
    ids:
      - 0xFEF9 # Map x Icon
      - 0xFEFD # Cam2Tag
    layer: 4
    destlayer: 0
    room: 0
    objtype: STAG
  - name: Move Fi text trigger for Yerbal map x
    type: objmove
    id: 0xFEBD
    layer: 4
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Remove Faron soth fi text
    type: objdelete
    id: 0x52BA
    layer: 5
    room: 0
    objtype: OBJ
  - name: Remove Unflooded Faron Cutscene
    type: objpatch
    room: 0
    index: 49
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Add entrance to simulate coming from Lake Floria
    type: objadd
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
      byte4: -1
      posx: -750.0
      posy: 1011.0
      posz: 11300.0
      anglex: 0
      angley: 33000
      anglez: 0
      entrance_id: 100
  - name: Move Item on Tree down
    type: objpatch
    id: 0xA100
    room: 0
    layer: 0
    objtype: OBJ
    object:
      posy: 1570
  - name: Move Item behind Bombable Rock down
    type: objpatch
    id: 0xFCFF
    room: 0
    layer: 0
    objtype: OBJ
    object:
      posy: -398

F100_1: # Great Tree
  # Removed all flags and default to layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: extra Bomb flower
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: 1317
      posy: 60
      posz: -522
      anglex: 0
      angley: 0
      anglez: 0
      id: 0xFC50
      name: Bombf
  - name: Exit from GT to Flooded GT Layer 2
    type: objadd
    index: 1
    room: 0
    objtype: SCEN
    object:
      name: F103_1
      layer: 2 # Layer with Water Dragon after Tadtones appear
      room: 0
      entrance: 5 # New GT -> Flooded GT entrance

F101: # Deep Woods
  # Removed all flags and default to layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Add ammo pot to Deep Woods Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 2455
      posy: 1541.632446
      posz: 10220
      name: Tubo
  - name: Add ammo pot to Forest Temple Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -875
      posy: 760.835083
      posz: 3365
      name: Tubo
  - name: Yeet Deep Woods Intro Cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Remove skippable Skyview intro Cutscene
    type: objpatch
    layer: 1
    room: 0
    id: 0xFD08
    objtype: STAG
    object:
      event: 6 # DefaultStart
  - name: Remove goddess cube force hit triggers
    type: objdelete
    ids:
      - 0xFD03
      - 0xFD04
      - 0xFD05
    layer: 1
    room: 0
    objtype: OBJ
  - name: Remove fake trial dowsing target
    type: objdelete
    id: 0xFCF2
    layer: 0
    room: 0
    objtype: STAG
  # Originally, both are on the door itself.
  # Moving them so you can always hit them :p
  - name: Move Skyview Temple Door TgReact 1 to Left Door Pillar
    type: objpatch
    id: 0xFD0A
    layer: 1
    room: 0
    objtype: SOBJ
    object:
      posx: -500
      posy: 1550
      posz: 540
      sizex: 1.5
      sizey: 5.5
      sizez: 1.5
  - name: Move Skyview Temple Door TgReact 2 to Right Door Pillar
    type: objpatch
    id: 0xFD09
    layer: 1
    room: 0
    objtype: SOBJ
    object:
      posx: 250
      posy: 1550
      posz: 540
      sizex: 1.5
      sizey: 5.5
      sizez: 1.5
  - name: Move Skyview Temple Door TgReact 1 to layer 1
    type: objmove
    id: 0xFD0A
    hardcoded_id: 0xFDFE
    layer: 1
    destlayer: 0
    room: 0
    objtype: SOBJ
  - name: Move Skyview Temple Door TgReact 2 to layer 1
    type: objmove
    id: 0xFD09
    hardcoded_id: 0xFDFF
    layer: 1
    destlayer: 0
    room: 0
    objtype: SOBJ
  - name: Don't despawn Gorko after beating Skyview Temple
    type: objpatch
    id: 0xFCF5
    layer: 1
    room: 0
    objtype: OBJ
    object:
      untrigstoryfid: -1

F102: # Lake Floria
  # Removed all flags and default to layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Add ammo pot to Lake Floria Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 3
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 2760
      posy: 433.4100037
      posz: 8155
      name: Tubo
  - name: Remove Lake Floria intro Cutscene 1
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Remove Lake Floria intro Cutscene 2
    type: objpatch
    index: 2
    room: 0
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Door to Dragon Lair
    type: objdelete
    id: 0x1000
    layer: 0
    room: 4
    objtype: OBJ
  - name: Delete Parella
    type: objdelete
    id: 0xFC2A
    layer: 1
    room: 1
    objtype: OBJS
  - name: Remove EvntTags 1
    type: objdelete
    ids:
      - 0xFC1D
      - 0xFC1E
      - 0xFC26
      - 0xFC1F
      - 0xFC1C
    layer: 0
    room: 1
    objtype: STAG
  - name: Remove EvntTags 2
    type: objdelete
    id: 0xFC2F
    layer: 0
    room: 3
    objtype: STAG
  - name: Remove EvntTags 3
    type: objdelete
    ids:
      - 0xFC13
      - 0xFC12
    layer: 0
    room: 4
    objtype: STAG

F102_1: # Outside Ancient Cistern
  # Removed all flags and default to layer 0
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 0
  - name: Add ammo pot to Floria Waterfall Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -4900
      posy: 253.9722748
      posz: -5800
      name: Tubo
  - name: Remove CS after Ancient Cistern
    type: objpatch
    index: 6
    room: 0
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Remove Water Dragon after Ancient Cistern
    type: objdelete
    ids:
      - 0xFC59 # Trigger
      - 0xFC5A # Water Dragon
    layer: 3
    room: 0
    objtype: OBJ
  - name: Remove waterfall sound
    type: objdelete
    ids:
      - 0xFC57
      - 0xFC58
    layer: 0
    room: 0
    objtype: SNDT

F102_2: # Faron's Lair
  # Removed all flags and default to layer 0
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 0
  - name: Remove Faron's Lair entry cs
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      play_cutscene: -1

F103: # Flooded Faron Woods
  # Always force layer 2 since that's the layer with the tadtones
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1 
        night: 0
        layer: 2
  - name: Don't play intro cutscene
    type: objpatch
    room: 0
    index: 0
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Exit from FFW to Groosenator
    type: objadd
    index: 4
    room: 0
    objtype: SCEN
    object:
      name: F401
      layer: 0
      room: 1
      entrance: 11 # custom entrance in F401
  - name: Add ammo pot to Faron Woods Entry Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -8465
      posy: -918.6898193
      posz: -1580
      name: Tubo
  - name: Add ammo pot to In the Woods Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -2220
      posy: -497.8004456
      posz: 5560
      name: Tubo
  - name: Add ammo pot to Great Tree Top Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -1170
      posy: 4979.450195
      posz: -4395
      name: Tubo
  - name: Add ammo pot to Viewing Platform Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 7230
      posy: 2102.997295
      posz: -9485
      name: Tubo
  - name: Remove Tadtone Dowsing Trigger # is a start flag
    type: objdelete
    id: 0xFDE5
    layer: 2
    room: 0
    objtype: OBJ
  - name: Remove buggy Cranioc CS Trigger
    type: objdelete
    id: 0xFDF1
    layer: 2
    room: 0
    objtype: STAG

F103_1: # Flooded Great Tree
  - name: Exit from Flooded GT to GT
    type: objadd
    index: 1
    room: 0
    objtype: SCEN
    object:
      name: F100_1
      layer: 1 # Default layer for GT in rando??
      room: 0
      entrance: 5 # New Flooded GT -> GT entrance
  - name: Remove Faron Soth Cutscene
    type: objpatch
    room: 0
    index: 3
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Move First Rupee to layer 0
    type: objmove
    ids:
      - 0xFC44
      - 0xFC45
    hardcoded_id: 0xFFF0
    layer: 2
    destlayer: 0
    room: 0
    objtype: OBJ

F200: # Eldin Volcano
  # Removed all flags and default to layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Add Arcs
    type: arcnadd
    layer: 0
    room: 0
    arcn:
      - GossipStone
      # Underground stuff
      - MoldWorm
      - MoleBlock
      - MoleGroundLn
      - MoleGroundMl
      - MoleGroundMn
      - MoleGroundS
      - MoleShutter
      - MoundShovelB
      - PLMoleGlove
      # Trial stuff
      - PLHarpPlay
      - PLSwordStick
      - SirenEntrance
      # Post Boko Base stuff
      - FWRockB
      - Ph
      - PRing
  - name: Add ammo pot to Volcano Entry Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -9790
      posy: 1863.461914
      posz: 2810
      name: Tubo
  - name: Add ammo pot to Volcano East Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 3480
      posy: 1004.046692
      posz: 6530
      name: Tubo
  - name: Add ammo pot to Volcano Ascent Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1205
      posy: 848.3775635
      posz: -5585
      name: Tubo
  - name: Add ammo pot to Temple Entrance Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 4
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 420
      posy: 13800
      posz: -24700
      name: Tubo
  - name: Remove Intro Cutscene
    type: objmove
    id: 0xFC26
    layer: 1
    destlayer: 0
    room: 0
    objtype: STAG
  # objdeletes
  - name: Remove First Mogma Cutscene actors
    type: objdelete
    ids:
      - 0xFC22 # Fi Trigger
      - 0x001F # Left Mogma
      - 0x0020 # Right Mogma
    layer: 1
    room: 0
    objtype: OBJ
  - name: Remove room 2 actors
    type: objdelete
    ids:
      - 0x10B5 # First Pyrup
      - 0x0CB9 # Mogma above draining lava
      - 0xFCBF # NpcTke before Impa
    layer: 1
    room: 2
    objtype: OBJ
  - name: Remove room 2 cutscenes
    type: objdelete
    ids:
      - 0xFCDB # First Pyrup Trigger 1
      - 0xFCCF # First Pyrup Trigger 2
      - 0xFCCE # First Pyrup Trigger 3
      - 0xFCD6 # Draining lava near Turf Camera
      - 0x08CA # Impa Cutscene
      - 0x14CC # Key Piece draining lava
    layer: 1
    room: 2
    objtype: STAG
  - name: Remove Just saying cs
    type: objdelete
    ids:
      - 0x248C
      - 0x248A # Mogma
      - 0x248B # Mogma
    layer: 1
    room: 4
    objtype: OBJ
  - name: Remove Propeller
    type: objdelete
    id: 0xFC2E
    layer: 0
    room: 4
    objtype: OBJ
  - name: Remove ET Door if open ET
    onlyif: open_earth_temple == open
    type: objdelete
    id: 0x2413
    layer: 0
    room: 4
    objtype: OBJ

  - name: Move Trial Gate
    type: objmove
    ids:
      - 0x14AE # Trial Gate
      - 0x14C0 # Butterflies
    layer: 2
    destlayer: 0
    room: 2
    objtypes: [OBJ, STAG]
  - name: Move Gossip Stone to layer 0
    type: objmove
    id: 0xFC97
    hardcoded_id: 0xFDFF
    layer: 2
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Move Gossip Stone Butterflies to layer 0
    type: objmove
    id: 0x249A
    layer: 2
    destlayer: 0
    room: 4
    objtype: STAG
  - name: Remove 2nd key piece tower cs
    type: objpatch
    id: 0x200A
    layer: 0
    room: 4
    objtype: OBJ
    object:
      params1: 0xFFF0FF18
  - name: Remove thrill digger tower cs
    type: objpatch
    id: 0x1C0C
    layer: 0
    room: 4
    objtype: OBJ
    object:
      params1: 0xCFF0FF1A
  - name: Keep pre circles mogma above ground
    type: objpatch
    id: 0xFCBE
    layer: 1
    room: 2
    objtype: OBJ
    object:
      anglex: 12031 #keep mogma above ground
  - name: Remove Earth Temple Opening Cutscene
    type: objpatch
    id: 0x24A4
    layer: 1
    room: 4
    objtype: STAG
    object:
      event: 7 # DefaultStart
  - name: Replace first Pyrup with stationary Pyrup
    type: objadd
    layer: 1
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFEFFFF2
      params2: 0x25FFFFFF
      posx: 5800
      posy: 0
      posz: 4500
      anglex: 0
      angley: 37000
      anglez: 0
      id: 0x10B5
      name: EHidoK
  - name: Move Entrance from Thrill Digger forward # Otherwise you can get stuck behind the rocks in ER
    type: objpatch
    room: 4
    index: 2
    objtype: PLY
    object:
      posx: -3900
      posy: 5600
      posz: -15000
  # Match tilt expectation of anglex being 0x4000
  - name: Tilt Stamina Fruit near hot cave differently
    type: objpatch
    id: 0x2805
    room: 5
    layer: 0
    objtype: OBJ
    object:
      anglex: 0x4000
      angley: 0x8000
      anglez: 0x0000

  - name: Move Cliff Pyrup Shell Rupee to layer 0
    type: objmove
    id: 0x10BD
    layer: 1
    destlayer: 0
    room: 2
    objtype: OBJ

  # Underground Rupee Stuff
  # 1st Room
  - name: Move 1st Room Uground and InHole
    type: objmove
    startid: 0xFC3E
    endid: 0xFC3F
    layer: 4
    destlayer: 0
    room: 1
    objtype: OBJ
  - name: Move 1st Room Underground Rupees
    type: objmove
    startid: 0xFC44
    endid: 0xFC4C
    hardcoded_id: 0xFFF1
    layer: 4
    destlayer: 0
    room: 1
    objtype: OBJ
  # Before Bone Bridge
  - name: Move before Bone Bridge Uground, InHole, and Moldorm
    type: objmove
    startid: 0xFCCF
    endid: 0xFCD1
    layer: 4
    destlayer: 0
    room: 2
    objtype: OBJ
  - name: Move before Bone Bridge Underground Blocks
    type: objmove
    ids:
      - 0xFCE1
      - 0xFCE2
      - 0xFCE3
    startid: 0xFCD9
    endid: 0xFCDE
    layer: 4
    destlayer: 0
    room: 2
    objtype: OBJ
  - name: Move before Bone Bridge Underground Rupees
    type: objmove
    ids:
      - 0xFCE0
      - 0xFCE4
    layer: 4
    destlayer: 0
    room: 2
    objtype: OBJ
  # In Cliff
  - name: Move in Cliff Uground, InHole, and Moldorm
    type: objmove
    ids:
      - 0xFCBF # Uground
      - 0xFCC1 # InHole
      - 0xFCFE # Moldorm
    layer: 4
    destlayer: 0
    room: 2
    objtype: OBJ
  - name: Move in Cliff Tags
    type: objmove
    ids:
      - 0xFD14 # DieTag
      - 0xFD15 # CamTag
    layer: 4
    destlayer: 0
    room: 2
    objtype: STAG
  - name: Move in Cliff underground Spike Gates
    type: objmove
    startid: 0xFCFF
    endid: 0xFD02
    layer: 4
    destlayer: 0
    room: 2
    objtype: OBJ
  - name: Move in Cliff Underground Blocks
    type: objmove
    ids:
      - 0xFCD6
      - 0xFCD7
      - 0xFCD8
      - 0xFCF9
      - 0xFCFA
    startid: 0xFCE6
    endid: 0xFCED
    layer: 4
    destlayer: 0
    room: 2
    objtype: OBJ
  - name: Move in Cliff Rupees
    type: objmove
    # ids are added first
    ids: # -> 0xFFE1-4
      - 0xFCE5
      - 0xFCFB
      - 0xFCFC
      - 0xFCFD
    startid: 0xFCEE # -> 0xFFE5+
    endid: 0xFCF8
    hardcoded_id: 0xFFE1
    layer: 4
    destlayer: 0
    room: 2
    objtype: OBJ
  # Below Mogma Turf Entrance
  #
  # Removed as extra collision on Eldin layer 1 makes this digspot *very* buggy
  #
  # - name: Move below Turf Uground, InHole, and Bombf
  #   type: objmove
  #   ids:
  #     - 0xFCC0 # Uground
  #     - 0xFCC2 # InHole
  #     - 0xFCBB # Bombf
  #   layer: 4
  #   destlayer: 0
  #   room: 2
  #   objtype: OBJ
  # - name: Move below Turf CBomSld
  #   type: objmove
  #   id: 0xFD0C
  #   layer: 4
  #   destlayer: 0
  #   room: 2
  #   objtype: STAG
  # - name: Move below Turf Underground Blocks
  #   type: objmove
  #   ids:
  #     - 0xFCD3
  #     - 0xFCD4
  #     - 0xFCD5
  #   startid: 0xFD03
  #   endid: 0xFD09
  #   layer: 4
  #   destlayer: 0
  #   room: 2
  #   objtype: OBJ
  # - name: Move below Turf Underground Rupees
  #   type: objmove
  #   ids:
  #     - 0xFD0A
  #     - 0xFCBC
  #     - 0xFCDF
  #   hardcoded_id: 0xFFFA
  #   layer: 4
  #   destlayer: 0
  #   room: 2
  #   objtype: OBJ
  # West of Earth Temple
  - name: Move West of Earth Temple Uground, InHole, and Bombf
    type: objmove
    ids:
      - 0xFC8B # Uground
      - 0xFC8C # InHole
      - 0x249D # Bombf
    layer: 4
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Move West of Earth Temple CBomSld
    type: objmove
    id: 0xFCB5
    layer: 4
    destlayer: 0
    room: 4
    objtype: STAG
  - name: Move West of Earth Temple Underground Blocks 1
    type: objmove
    startid: 0xFCA8
    endid: 0xFCAF
    layer: 4
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Move West of Earth Temple Underground Blocks 2
    type: objmove
    startid: 0xFC97
    endid: 0xFC9C
    layer: 4
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Move West of Earth Temple Rupees
    type: objmove
    startid: 0x249E
    endid: 0x24A7
    hardcoded_id: 0xFFD1
    layer: 4
    destlayer: 0
    room: 4
    objtype: OBJ

  # Boko Base access
  - name: Add Shiekah Stone to Eldin
    type: objadd
    layer: 0
    room: 1
    objtype: OBJ
    object:
      params1: 0xF2FFFF10
      params2: 0xFFDFFFFF
      posx: 250
      posy: 700
      posz: 9800
      anglex: 0
      angley: 42000
      anglez: 30505 # Different eventpoint on hero mode cos boko base sucks
      id: 0xFFFF
      name: HrpHint
  - name: Exit from Eldin Shiekah Stone to Boko Base
    type: objadd
    index: 0
    room: 1
    objtype: SCEN
    object:
      name: F202
      layer: 1
      room: 1 # 0 = cutscene + no items; 1 = no cutscene + keep items
      entrance: 0 # New Eldin -> Boko Base sky entrance
  - name: Boko Base Shiekah Stone Coords
    type: objadd
    index: 5
    room: 1
    objtype: PLY
    object:
      storyflag: 2047
      play_cutscene: -1
      byte4: -1
      posx: 80
      posy: 700
      posz: 9670
      anglex: 0
      angley: 9200
      anglez: 0
      entrance_id: 5

  # Lower Eldin lava platforms
  #
  # For some reason, moving the StreamT objects to layer 0
  # makes them not behave correctly? These angle patches
  # fix their paths to be good enough (otherwise they clip
  # into walls or just straight up miss the next StreamT)
  - name: Patch lower Eldin StreamT start angle
    type: objpatch
    id: 0xFD10
    layer: 4
    room: 2
    objtype: STAG
    object:
      angley: 5000
  - name: Patch lower Eldin StreamT 3 angle
    type: objpatch
    id: 0xFD11
    layer: 4
    room: 2
    objtype: STAG
    object:
      angley: 56000
  - name: Patch lower Eldin StreamT end angle
    type: objpatch
    id: 0xFD0F
    layer: 4
    room: 2
    objtype: STAG
    object:
      angley: 2000
  - name: Move lower Eldin lava platforms
    type: objmove
    ids:
      - 0xFD10 # StreamT Start
      - 0xFD0E # StreamT 2
      - 0xFD11 # StreamT 3
      - 0xFD0F # StreamT End
      - 0xFD12 # TgRBoat (platform spawner)
    layer: 4
    destlayer: 0
    room: 2
    objtype: STAG
  - name: New lower Eldin StreamT 1 # Moving this from layer 4 doesn't work ¯\_(ツ)_/¯
    type: objadd
    id: 0xFD0D
    layer: 0
    room: 2
    objtype: STAG
    object:
      params1: 0xF032FFFF
      params2: 0xFFDFFFFF
      posx: 4300
      posy: -307.654052734375
      posz: -4600
      sizex: 1000
      sizey: 700
      sizez: 4000
      anglex: 0
      angley: 64000
      anglez: 65535
      name: StreamT
  - name: Move lower TgSound
    type: objmove
    id: 0xFD19
    layer: 4
    destlayer: 0
    room: 2
    objtype: SNDT
  # Upper Eldin lava platforms
  - name: Patch upper Eldin StreamT 3 angle
    type: objpatch
    id: 0xFCBA
    layer: 4
    room: 4
    objtype: STAG
    object:
      angley: 65000
  - name: Patch upper Eldin StreamT 5 angle
    type: objpatch
    id: 0xFCB6
    layer: 4
    room: 4
    objtype: STAG
    object:
      angley: 64500
  - name: Move upper Eldin lava platforms
    type: objmove
    ids:
      - 0xFCBB # StreamT Start
      - 0xFCB7 # StreamT 1
      - 0xFCB8 # StreamT 2
      - 0xFCBA # StreamT 3
      - 0xFCB9 # StreamT 4
      - 0xFCB6 # StreamT End
      - 0xFCBD # TgNoEff 1
      - 0xFCBE # TgNoEff 2
      - 0xFCBF # TgNoEff 3
      - 0xFCBC # TgRBoat (platform spawner)
    layer: 4
    destlayer: 0
    room: 4
    objtype: STAG
  - name: Move upper TgSound
    type: objmove
    id: 0xFCC2
    layer: 4
    destlayer: 0
    room: 4
    objtype: SNDT

  - name: Move Peahats
    type: objmove
    startid: 0xFC8F
    endid: 0xFC92
    layer: 4
    destlayer: 0
    room: 4
    objtype: OBJ

  - name: Rotate Farther Torch TgReact # So that items don't fall through the floor
    type: objpatch
    id: 0xFC6B
    objtype: SOBJ
    layer: 0
    room: 4
    object:
      angley: 17000

F201_1: # Inside volcano
  # Removed flags 48 (Lanayru pillar opened)
  # Change default layer to 2
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 19 # Fire Dragon SotH CS
        night: 0
        layer: 4
      - story_flag: 677 # Water Basin Collected (Scrapper Escort Active)
        night: 0
        layer: 3
      - story_flag: -1
        night: 0
        layer: 2
  - name: Add ammo pot to Volcano Summit Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -380
      posy: 0
      posz: -810
      name: Tubo
  - name: Remove Sword Pedestal on post-Boko Base layer
    type: objdelete
    id: 0xFC32
    room: 0
    layer: 4
    objtype: OBJ
  - name: Add True Master Sword chest on post-Boko Base layer
    type: objadd
    layer: 4
    room: 0
    objtype: OBJS
    object:
      params1: 0xFFFFFFF3
      params2: 0xFF5FFFFF
      posx: 1314.69677734375
      posy: 50
      posz: -68.63192749023438
      anglex: 0xFFFF
      angley: 16384
      anglez: 37379 # >> 9 = chest flag 9
      id: 0xFC26
      name: TBox
  - name: Patch loadzone to Fire Dragon's Lair
    type: objpatch
    index: 3
    room: 0
    objtype: SCEN
    object:
      layer: 2

F201_2: # Inside Volcano (Bokoblin Base)
  - name: Add ammo pot to Volcano Summit Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -380
      posy: 0
      posz: -810
      name: Tubo
  - name: Fi text after pulling True Master Sword
    type: objadd
    room: 0
    layer: 0
    id: 0xFC00
    objtype: OBJ
    object:
      params1: 0xFFFFFF01 # type 1, no fi, flag sets automatically
      params2: 0xFF1FFFFF
      posx: 0
      posy: 0 # doesn't matter, is triggered anywhere
      posz: 0
      angley: 0xFFFF
      anglez: 10751 # entrypoint 107_51
      id: 0xFC00
      name: NpcTke
      trigscenefid: 44 # 4x10
      untrigstoryfid: 952 # Raised True Master Sword in Boko Base
  - name: Remove vanilla Fi text after pulling sword
    type: objdelete
    id: 0xFC34
    layer: 0
    room: 0
    objtype: OBJ
  - name: Force layer 2 when entering Fire Dragon's Lair
    type: objpatch
    index: 0
    room: 0
    objtype: SCEN
    object:
      layer: 2
  - name: Remove panning Cutscenes
    type: objdelete
    ids:
      - 0xFC4B # Pouch Chest
      - 0xFC46 # Sword
      - 0xFC49 # Lava platforms
    layer: 0
    room: 0
    objtype: STAG

F201_3: # Outside Fire Sanctuary
  # Change flag 13 (Can open GoT / old FS Beaten) to 901 (rando FS Beaten)
  # Removed flags 48 (Lanayru pillar open), and 5 (Beat Skyview Temple)
  # Change default layer to 2
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 901 # Beat Fire Sanctuary
        night: 0
        layer: 4
      - story_flag: 677 # Water Basin Collected (Scrapper Escort Active)
        night: 0
        layer: 3
      - story_flag: -1
        night: 0
        layer: 2
  - name: Add ammo pot to Inside the Volcano Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -490
      posy: -500
      posz: -10490
      name: Tubo
  - name: Remove Big Flames blocking FS
    type: objdelete
    id: 0xFC15
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove Goron Text after Frogs
    type: objdelete
    startid: 0xFC5A
    endid: 0xFC5E
    layer: 2
    room: 0
    objtype: OBJ
  - name: Remove trigger for entering fire sanctuary cutscene
    type: objdelete
    id: 0xFC3E
    layer: 0
    room: 0
    objtype: STAG

F201_4: # Volcano Waterfall
  # Removed flags 48 (Lanayru pillar opened), and 19 (Fire Dragon SotH CS)
  # Change flag 5 (Beat Skyview Temple) to -1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 677 # Water Basin Collected (Scrapper Escort Active)
        night: 0
        layer: 3
      - story_flag: -1
        night: 0
        layer: 1
  - name: extra Bomb flower
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: 2809
      posy: -4055.5771484375
      posz: 4700
      anglex: 0
      angley: 0
      anglez: 0
      id: 0xFC30
      name: Bombf

F202: # Bokoblin Base
  # TODO: figure out vanilla layeroverride with flag 200 (Levias SotH)
  - name: Add Arcs
    type: arcnadd
    layer: 0
    room: 1
    arcn:
      - GossipStone
  - name: Add Shiekah Stone in Boko Base to Prison
    type: objadd
    layer: 0
    room: 1
    objtype: OBJ
    object:
      params1: 0xF2FFFF14
      params2: 0xFFDFFFFF
      posx: 380
      posy: 700
      posz: 10950
      anglex: 0
      angley: 37000
      anglez: 30507 # Different eventpoint on hero mode cos boko base sucks
      id: 0xFFFF
      name: HrpHint
  - name: Exit from Boko Base Shiekah Stone to Eldin
    type: objadd
    index: 0
    room: 1
    objtype: SCEN
    object:
      name: F200
      layer: 1
      room: 1
      entrance: 5 # New Boko Base -> Eldin entrance
  - name: Add hot cave Plats to prison
    type: objadd
    layer: 0
    room: 1
    objtype: OBJ
    object:
      params1: 0xFFFFFFE3
      params2: 0xFFDFFFFF
      posx: 489.810791015625
      posy: 700
      posz: 10652.2568359375
      anglex: 0
      angley: 40960
      anglez: 30502
      id: 0xFC1E
      name: NpcMoEN
  - name: Remove Plats from hot cave
    type: objdelete
    id: 0xFC1E
    layer: 1
    room: 5
    objtype: OBJ
  - name: Remove prison actors
    type: objdelete
    ids:
      - 0x084B # Barrel of Doom
      - 0x0850 # Plats
    layer: 1
    room: 1
    objtype: OBJ
  - name: Remove Plats Map Cutscene 1
    type: objdelete
    id: 0x017B
    layer: 1
    room: 2
    objtype: STAG
  - name: Remove lower Eldin panning Cutscenes
    type: objdelete
    startid: 0x0095
    endid: 0x0099
    layer: 0
    room: 2
    objtype: STAG
  - name: Remove upper Eldin panning Cutscenes
    type: objdelete
    startid: 0x0050
    endid: 0x0051
    layer: 0
    room: 4
    objtype: STAG
  - name: Remove Plats talking Cutscene near hot cave
    type: objdelete
    id: 0xFC1F
    layer: 1
    room: 5
    objtype: OBJ
  - name: Add fi NpcTke for hot cave without earrings
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0x19FFFFFB
      params2: 0xFF1FFFFF
      posx: 13000
      posy: 15022.0302734375
      posz: -23100
      anglex: 65535
      angley: 513
      anglez: 30013
      id: 0x280A
      name: NpcTke
  - name: Add ActTag to hot cave to trigger fi
    type: objadd
    layer: 0
    room: 5
    objtype: STAG
    object:
      params1: 0xFFFFFFC4
      params2: 0xFFFFFFFF
      posx: 11640
      posy: 14502.8857421875
      posz: -22080
      sizex: 1000
      sizey: 1000
      sizez: 600
      anglex: 0
      angley: 9102
      anglez: 0
      id: 0xFC28
      name: ActTag
  - name: Add AREA for where fi should spawn
    type: objadd
    index: 0
    room: 5
    objtype: AREA
    object:
      posx: 13400
      posy: 15000
      posz: -24130
      sizex: 2000
      sizey: 2000
      sizez: 2000
      angle: 0
  - name: Remove PlRsTags
    type: objdelete
    startid: 0xFC0D
    endid: 0xFC13
    layer: 1
    objtype: STAG
  - name: Move loadzone into Boko Base Volcano Summit
    type: objpatch
    id: 0xFC22
    layer: 1
    room: 5
    objtype: STAG
    object:
      posx: 13150
      posy: 15000
      posz: -23950
  - name: Add ammo pot to Volcano Entry Bird Statue # Can't get to this one
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -9790
      posy: 1863.461914
      posz: 2810
      name: Tubo
  - name: Add ammo pot to Volcano East Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 3480
      posy: 1004.046692
      posz: 6530
      name: Tubo
  - name: Add ammo pot to Volcano Ascent Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1205
      posy: 848.3775635
      posz: -5585
      name: Tubo
  - name: Add ammo pot to Temple Entrance Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 4
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 420
      posy: 13800
      posz: -24700
      name: Tubo

F210: # Mogma Turf
  # Removed all flags and default to layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Add air vent to Guld platform
    type: objadd
    layer: 0
    room: 0
    objtype: SOBJ
    object:
      params1: 0x7FFFF027
      params2: 0xFFDFFFFF
      posx: 2500
      posy: -7390
      posz: 2200
      sizex: 1.5
      sizey: 8.5
      sizez: 1.5
      anglex: 364
      angley: 25000
      anglez: 1023
      name: Wind
  - name: Add ammo pot to Mogma Turf Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1265
      posy: -7390
      posz: 1625
      name: Tubo
  - name: Cobal Trigger
    type: objpatch
    id: 0xFC70
    layer: 2
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 909 # White Sword
  - name: Move Cobal to layer 1
    type: objmove
    id: 0xFC70
    layer: 2
    destlayer: 1
    room: 0
    objtype: OBJ
  - name: mogma 1
    type: objpatch
    id: 0xFC3E
    layer: 0
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 901
  - name: Guld
    type: objpatch
    id: 0xFC3C
    layer: 0
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 470
  - name: mogma 2
    type: objpatch
    id: 0xFC3D
    layer: 0
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 901
  - name: Mogma Holding you back in caves
    type: objdelete
    id: 0x007B
    layer: 1
    room: 0
    objtype: OBJ
  - name: Remove Chuchu on Guld platform
    type: objdelete
    id: 0x007C
    layer: 1
    room: 0
    objtype: SOBJ
  - name: Remove Rupee Dowsing
    type: objdelete
    id: 0xFC3B
    layer: 0
    room: 0
    objtype: OBJ
  - name: Add entrance to simulate coming from upper vent
    type: objadd
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
      byte4: -1
      posx: 1000.0
      posy: -5800.0
      posz: -1000.0
      anglex: 0
      angley: 46000
      anglez: 0
      entrance_id: 100

F211: # Thrill Digger
  # Change flag 5 (Beat Skyview Temple) to -1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Remove thrill digger entry CS
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Thrill Digger Gossip Stone
    onlyif: (ammo_availability == useful and hidden_item_shuffle == on) or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 900
      posy: 0
      posz: 600
      name: Tubo

F221: # Fire Dragon Room
  - name: Patch exit trigger from Fire Dragon's Lair to normal Volcano Summit
    type: objpatch
    id: 0xFC10
    room: 0
    layer: 2
    objtype: STAG
    object:
      trigstoryfid: 19 # Active after talked to Fire Dragon
  - name: Patch exit trigger from Fire Dragon's Lair to Boko Base Volcano Summit
    type: objpatch
    id: 0xFC08
    room: 0
    layer: 0
    objtype: STAG
    object:
      untrigstoryfid: 19 # Inactive after talked to Fire Dragon
  - name: Move exit trigger to layer 2
    type: objmove
    id: 0xFC08
    layer: 0
    destlayer: 2
    room: 0
    objtype: STAG
  - name: Remove Cutscene trigger
    type: objdelete
    id: 0xFC09
    room: 0
    layer: 0
    objtype: STAG

F300: # Lanayru Desert
  # Removed all flags and default to layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Add ammo pot to Desert Entrance Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1680
      posy: 1974.559326
      posz: 18820
      name: Tubo
  - name: Add ammo pot to West Desert Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -15020
      posy: 80
      posz: 8205
      name: Tubo
  - name: Add ammo pot to North Desert Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -2105
      posy: 475
      posz: -6640
      name: Tubo
  - name: Add ammo pot to Stone Cache Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 9410
      posy: 218.9002533
      posz: 10200
      name: Tubo
  # objdeletes
  - name: Remove Fi texts
    type: objdelete
    ids:
      - 0xFCC6 # Fi text after chest near caged robot
      - 0xFC29 # Fi text around caged robot
      - 0xFCBC # Fi text for 5 beacons
      - 0xFC87 # Fi text for trial gate
      - 0x0CC4 # Fi text for all nodes
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove Boulder cs
    type: objdelete
    id: 0xFD53
    layer: 0
    room: 0
    objtype: STAG
  - name: Move caged robot NpcTke
    type: objpatch
    id: 0xFC50
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posx: 450
      posy: -40
      posz: 8192

  - name: Chest Spawns after LMF
    type: objpatch
    id: 0xFE12
    layer: 2
    room: 0
    objtype: OBJS
    object:
      spawnscenefid: 30 # 0x1E
  - name: Chest on LMF
    type: objmove
    id: 0xFE12
    layer: 2
    destlayer: 1
    room: 0
    objtype: OBJS
  - name: Remove Zelda Dowsing from LMF raising cs
    type: objpatch
    room: 0
    index: 28
    objtype: EVNT
    object:
      story_flag2: -1 # no Zelda Dowsing
  - name: LMF entrance loadzone
    type: objpatch
    id: 0xFCEB
    layer: 0
    room: 0
    objtype: STAG
    object:
      trigstoryfid: 8 # LMF raised
  - name: LMF exit when not raised
    type: objadd
    index: 19
    room: 0
    objtype: PLY
    object:
      storyflag: 2047
      play_cutscene: -1
      byte4: -1
      posx: 39
      posy: -170
      posz: -5100
      anglex: 0
      angley: 34000
      anglez: 0
      entrance_id: 19
  - name: Move Stamina Fruit on South LMF Ledge to layer 0
    type: objmove
    ids:
      - 0xFE11 # South
      - 0xFE13 # West
      - 0xFE15 # On vine wall
    hardcoded_id: 0xFFF0
    layer: 2
    destlayer: 0
    room: 0
    objtype: OBJ

F300_1: # Lanayru Mine
  # Removed all flags and default to layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Add ammo pot to Lanayru Mine Entry Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 10245
      posy: 2302.375
      posz: 35480
      name: Tubo
  - name: Remove Fi text for Trial Gate
    type: objdelete
    id: 0xFC2D
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove Timeshift stone cutscene and dowsing target
    type: objdelete
    ids:
      - 0xFC47 # First Timeshift Stone
      - 0xFC59 # Trial dowsing target
    layer: 0
    room: 0
    objtype: STAG
  - name: Remove Trial Dowsing Target room 1
    type: objdelete
    id: 0xFC0A
    layer: 0
    room: 1
    objtype: STAG
  - name: Remove Trial Dowsing Target room 2
    type: objdelete
    id: 0xFC62
    layer: 0
    room: 2
    objtype: STAG

F300_2: # Lightning Node
  - name: Add extra Bomb Flower
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: 604
      posy: 245
      posz: -6672
      anglex: 0
      angley: 0
      anglez: 0
      id: 0xFC50
      name: Bombf
  - name: Fi text for generator
    type: objdelete
    ids:
      - 0xFC24 # Fi text for Generator
      - 0xFC23 # Fi text for all nodes
    layer: 0
    room: 0
    objtype: OBJ
  - name: Increase power supply TgReact size
    type: objpatch
    id: 0xFC36
    layer: 0
    room: 0
    objtype: SOBJ
    object:
      sizex: 2.5
      sizez: 2

F300_3: # Fire Node
  - name: Fi text for generator
    type: objdelete
    ids:
      - 0xFC28 # Fi text for Generator
      - 0xFC27 # Fi text for all nodes
    layer: 0
    room: 0
    objtype: OBJ
  - name: Add Path Idx and SceneFlag to Fire Node Box
    type: objpatch
    objtype: OBJ
    id: 0xFC07
    layer: 0
    room: 0
    object:
      pathIdx: 1
      goalscenefid: 127
      useLargerRadius: 1
      isSwitchGoal: 0
  - name: Add Path For Fire Node Push Block
    type: pathadd
    room: 0
    pnts:
      - posx: -1275.0
        posy: 240.0
        posz: -4150.0
  - name: Increase power supply TgReact size
    type: objpatch
    id: 0xFC3F
    layer: 0
    room: 0
    objtype: SOBJ
    object:
      sizex: 2.5
      sizez: 2

F300_4: # Temple of Time
  # Removed all flags and default to layer 2
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 2
  - name: Add ammo pot to Desert Gorge Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -23330
      posy: 50
      posz: 640
      name: Tubo
  - name: Add ammo pot to Temple of Time Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -34360
      posy: 50
      posz: -3910
      name: Tubo
  - name: Yeet harp Cutscene
    type: objpatch
    index: 4
    room: 0
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Remove Fi texts
    type: objdelete
    ids:
      - 0xFC0D # Fi text after Harp
      - 0xFC17 # Fi text for trial gate
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove backwards loadingzone to LMF
    type: objdelete
    id: 0xFC3D
    layer: 0
    room: 0
    objtype: STAG
  - name: Remove fake trial dowsing target
    type: objdelete
    id: 0xFCB2
    layer: 2
    room: 0
    objtype: STAG
  - name: Move ToT GoT Rupees to layer 0
    type: objmove
    ids:
      - 0xFC9C
      - 0xFC9E
    hardcoded_id: 0xFFFD
    layer: 2
    destlayer: 0
    room: 0
    objtype: OBJ

F300_5: # Lanayru Mining Facility to Temple of Time
  - name: Correct layer and entrance for first exit from end of LMF
    type: objpatch
    index: 0
    room: 0
    objtype: SCEN
    object:
      layer: 2
      entrance: 5
      saveprompt: 1
  - name: End of LMF loadzone
    type: objpatch
    id: 0xFC03
    layer: 0
    room: 0
    objtype: STAG
    object:
      # increase size to make it unmissable
      sizex: 1700
      sizez: 500
      trigstoryfid: 935
      untrigstoryfid: 2047 # -1
  - name: End of LMF loadzone 2nd
    type: objdelete
    id: 0xFC04
    layer: 0
    room: 0
    objtype: STAG
  - name: Area to give Reward after dungeon
    type: objadd
    index: 0
    room: 0
    objtype: AREA
    object:
      posx: -11810.81640625
      posy: -103.16357421875
      posz: -4.131864070892334
      sizex: 700
      sizey: 1000
      sizez: 500
      angle: 0
  - name: Trigger to give Reward after dungeon
    type: objadd
    room: 0
    layer: 0
    objtype: OBJ
    object:
      params1: 0x751FFFF1 # sets own storyflag (936) to untrigger
      params2: 0xFF1FFFFF
      posx: -11810
      posy: -103 # doesn't matter, triggered by area
      posz: -4
      anglex: 0xFFFF
      angley: 0xFF00 # AREA 0
      anglez: 40055 # entrypoint 400_55
      id: 0xFC00
      name: NpcTke
  - name: Extra Bird Statue
    type: objadd
    layer: 0
    room: 0
    objtype: OBJS
    object:
      params1: 0xFF0302FF # no sceneflag, exit=3
      params2: 0xFF5FFFFF
      posx: 715
      posy: 0
      posz: 850
      anglex: 0xFFFF
      angley: 32768 # same angle as the door
      anglez: 0xFFFF
      id: 0xFD84
      name: saveObj
  - name: Extra Dungeon Exit
    type: objadd
    room: 0
    index: 3
    objtype: SCEN
    object:
      name: F300
      room: 0
      layer: 0
      entrance: 5
      night: 2
      byte5: 2
      flag6: 0
      zero: 0
      saveprompt: 0
  - name: Add ammo pot to Hall of Ancient Robots Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 580
      posy: 0
      posz: 840
      name: Tubo

F301: # Ancient Harbour
  - name: Add ammo pot to Ancient Harbour Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 190
      posy: 70
      posz: -520
      name: Tubo
  - name: No Sandship beaten layer in sandship
    type: objpatch
    index: 4
    room: 0
    objtype: SCEN
    object:
      layer: 1
  - name: Remove Skipper Text with White Sword
    type: objdelete
    id: 0xFC0F
    layer: 0
    room: 0
    objtype: OBJ

F301_1: # Lanayru Sand Sea
  - name: Remove Events
    type: objdelete
    ids:
      - 0xFC05 # Skipper's text first item at sea (gets rid of 2x40 so also of the Evnttags)
      - 0xFC07 # Cutscene after Shipyard
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove Skipper's Boat Area Blocks
    type: objdelete
    startid: 0xFC60
    endid: 0xFC67
    layer: 0
    room: 0
    objtype: STAG
  # TODO: layeroverride instead of removing entrances?
  - name: Remove excess entrances to Sandship
    type: objdelete
    ids:
      - 0xFC98
      - 0xFCB7
      - 0xFCB7
      - 0xFCB7
    layers: [2, 3, 4, 5]
    room: 0
    objtype: STAG
  - name: Move sandship load to layer 0
    type: objmove
    layer: 1
    destlayer: 0
    room: 0
    objtype: STAG
    id: 0xFC6B
  - name: No Sandship beaten layer in sandship
    type: objpatch
    index: 5
    room: 0
    objtype: SCEN
    object:
      layer: 1
  - name: remove entrance cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1

F301_2: # Inside Pirate Stronghold
  - name: Remove Fi Texts room 1
    type: objdelete
    ids:
      - 0xFC0A # Fi text at start
      - 0xFC0B # Fi text after placing Timeshift Orb
    layer: 0
    room: 1
    objtype: OBJ
  - name: Remove Fi text before Timeshift Orb
    type: objdelete
    id: 0xFC06
    layer: 0
    room: 3
    objtype: OBJ
  - name: CS before second lever
    type: objdelete
    id: 0xFC28
    layer: 0
    room: 6
    objtype: STAG

F301_3: # Skipper's Retreat
  - name: Text after intro
    type: objdelete
    id: 0xFC30
    layer: 0
    room: 0
    objtype: OBJ
  - name: remove entrance cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Skipper's Retreat Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -3930
      posy: 50
      posz: 8550
      name: Tubo
  - name: Add bomb flower next to skydive chest # prevents softlocks
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: -80
      posy: 800
      posz: 2670
      anglex: 0
      angley: 0
      anglez: 0
      id: 0x4270
      name: Bombf

F301_4: # Shipyard
  - name: Layer override
    type: layeroverride
    override: # always be layer 1
      - story_flag: -1
        night: 0
        layer: 1
  - name: Add Arcs
    type: arcnadd
    layer: 0
    room: 0
    arcn:
      - GossipStone
  - name: Move Gossip Stone to layer 0
    type: objmove
    id: 0xFC5E
    hardcoded_id: 0xFDFF
    layer: 5
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Move Gossip Stone Butterflies to layer 0
    type: objmove
    id: 0xFC5F
    layer: 5
    destlayer: 0
    room: 0
    objtype: STAG
  - name: Text after intro
    type: objdelete
    id: 0xFC6E
    layer: 1
    room: 0
    objtype: OBJ
  - name: Add ammo pot to Shipyard Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -300
      posy: 50
      posz: 15830
      name: Tubo
  - name: Add ammo pot to before Construction Bay Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -3875
      posy: 500
      posz: 8830
      name: Tubo
  - name: Door to Construction always open
    type: objpatch
    room: 0
    layer: 0
    id: 0xFC05
    objtype: OBJS
    object:
      params1: 0xF7FFFC20
  - name: remove entrance cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1

F301_5: # Skipper's Retreat Shack
  - name: Text after chest
    type: objdelete
    id: 0xFC1B
    layer: 0
    room: 0
    objtype: OBJ

F301_6: # Outside Pirate stronghold
  - name: Add ammo pot to Pirate Stronghold Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -585
      posy: 70
      posz: 200
      name: Tubo
  - name: Remove texts
    type: objdelete
    ids:
      - 0xFC07 # Text after intro
      - 0xFC08 # Ship dowsing
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove Nose Rupees
    type: objdelete
    ids:
      - 0xFC46
      - 0xFC47
    layer: 2
    room: 0
    objtype: OBJ
  - name: Move Pillar Rupees to layer 0
    type: objmove
    ids:
      - 0xFC46
      - 0xFC47
    layer: 1
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Remove entrance cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1

F301_7: # Construction Bay
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 0 # Force Moldarach not to spawn
  - name: Remove Fi text
    type: objdelete
    ids:
      - 0xFC03
      - 0xFC04
    layer: 0
    room: 0
    objtype: OBJ
  - name: Open Door to outside
    type: objpatch
    id: 0xFC01
    layer: 0
    room: 0
    objtype: OBJS
    object:
      params1: 0xF7FFFC20

F302: # Lanayru Gorge
  # Removed all flags and default to layer 2 (post-minecart escort)
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 2
  - name: Add ammo pot to Lanayru Gorge Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -1200
      posy: 29.94655228
      posz: -2115
      name: Tubo
  - name: Delete text triggers
    type: objdelete
    ids:
      - 0xFC06 # Trigger blocking bridge access
      - 0xFC2B # Robot text after picking up Life Tree Seedling
      - 0xFCC0 # Fi text after Dragon's reward
    layers: [0, 0, 2]
    room: 0
    objtype: OBJ
  - name: Move TgReacts to correct layer
    type: objmove
    id: 0xFCCE # Grass near rock
    hardcoded_id: 0xFCCE
    layer: 1
    destlayer: 0
    room: 0
    objtype: SOBJ
  - name: Yeet Lanayru Gorge Intro Cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Patch wounded Thuderdragon to always trigger
    type: objpatch
    id: 0x10D1
    layer: 2
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: -1 # Always trigger
  - name: Don't play Thunder Dragon healing Cutscene
    type: objpatch
    index: 18
    room: 0
    objtype: SCEN
    object:
      layer: 2
      entrance: 4
  - name: Patch Pillar Item
    type: objpatch
    id: 0xFCC3
    layer: 1
    room: 0
    objtype: OBJ
    object:
      anglex: 0 # Fix rotation
      angley: 44000 # Turn item to face the player
      posy: -2600 # Fix height
  - name: Move Pillar Item to layer 0
    type: objmove
    id: 0xFCC3
    layer: 1
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: patch FrmLand
    type: objpatch
    id: 0xFC05
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFF4D11E2
      params2: 0xFFFFFFFF
      posx: 9804.2412109375
      posy: 350
      posz: -4532.95361328125
      anglex: 0
      angley: 16384
      anglez: 0
      name: Soil
  - name: Remove Lanayru Soth from CS
    type: objpatch
    room: 0
    index: 8
    objtype: EVNT
    object:
      item: -1 # no lanayru Soth anymore
  - name: Add extra Bomb Flower
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: 4100
      posy: 28.9521332
      posz: -3200
      anglex: 0
      angley: 0
      anglez: 0
      id: 0xFC50
      name: Bombf

F303: # Lanayru Caves
  # Removed all flags and default to layer 0
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 0
  # ER means you can get here without useful access to a bomb refill
  - name: Add ammo pot to Caves between Gorge and Golo
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 295
      posy: 0
      posz: 3500
      name: Tubo
  # Add arcns
  - name: Add Goron Arcs
    type: arcnadd
    layer: 0
    room: 0
    arcn:
      - GoronD
      - Goron_motion
  # Golo
  - name: Move Golo out of the Way
    type: objpatch
    id: 0xFC5C
    layer: 1
    room: 0
    objtype: OBJ
    object:
      posx: -150
      posz: 2090
      angley: 61000
      anglez: 40455
      untrigstoryfid: 2047 # never untrigger
  - name: Move Golo to layer 0
    type: objmove
    ids:
      - 0xFC5C # Golo
    layer: 1
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Move Stool out of Golo's way
    type: objpatch
    id: 0xFC19
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posx: -400
      posz: 1850
  # Rock blocking Gorge access
  - name: Move rock blocking Gorge to layer 0
    type: objmove
    id: 0xFC5F
    layer: 1
    destlayer: 0
    room: 0
    objtype: OBJS
  - name: Fi text after chest
    type: objdelete
    id: 0xFC25
    layer: 0
    room: 0
    objtype: OBJ
  - name: Delete cutscene
    type: objdelete
    id: 0xFC41
    layer: 0
    room: 0
    objtype: STAG
  - name: Delete Golo Trigger
    type: objdelete
    id: 0xFC5D
    layer: 1
    room: 0
    objtype: OBJ

F400: # Behind the Temple
  # Removed all flags and default to layer 0
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 0
  - name: Add ammo pot to Behind the Temple Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -10990
      posy: 7500
      posz: 6170
      name: Tubo
  - name: Goron text trigger doesn't disappear after Sandship
    type: objpatch
    id: 0xFC95
    layer: 3
    room: 0
    objtype: OBJ
    object:
      untrigstoryfid: 2047
  - name: Goron doesn't disappear after Sandship
    type: objpatch
    id: 0xFC94
    layer: 3
    room: 0
    objtype: OBJ
    object:
      trigstoryfid: 2047
      untrigstoryfid: 2047
  - name: Move Gorko stuff to layer 0
    type: objmove
    ids:
      - 0xFC94 # Gorko
      - 0xFC95 # Gorko trigger
      - 0xFC99 # BtT Gates
    layer: 3
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Remove extra Gorkos and Fi text
    type: objdelete
    ids:
      - 0xFC2E # Gorko after Skyview
      - 0xFC2F # Gorko before Goddess Walls
      - 0xFC5B # Fi text for trial
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove fake trial dowsing
    type: objdelete
    id: 0xFC8A
    layer: 0
    room: 0
    objtype: STAG
  - name: Move birds to layer 0
    type: objmove
    id: 0xFC98
    layer: 3
    destlayer: 0
    room: 0
    objtype: STAG
  - name: Add Little Bird Arc
    type: arcnadd
    layer: 0
    room: 0
    arcn:
      - LittleBird

F401: # Sealed Grounds Spiral
  # Removed flags 134 (Defeated The Horde), 175 (in Lanayru SotH Quest), 200 (Defeated Levias),
  #               13 (Can open GoT / FS Beaten), 141 (Played BotG for Impa), 36 (Tunic)
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 705 # Refighting Imp 3
        night: 0
        layer: 4
      - story_flag: 704 # Refighting Imp 2
        night: 0
        layer: 3
      - story_flag: 703 # Refighting Imp 1
        night: 0
        layer: 2
      - story_flag: 133 # Defeated Imp 3
        night: 0
        layer: 5
      - story_flag: -1 # So the Groosenator behaves properly
        night: 0
        layer: 3
  - name: Add entrance from FFW Bucha
    type: objadd
    index: 11
    room: 1
    objtype: PLY
    object:
      storyflag: 2047
      play_cutscene: -1
      byte4: -1
      posx: 3569
      posy: 8437.794922
      posz: 6269
      anglex: 0
      angley: 0x8000
      anglez: 0
      entrance_id: 11
  - name: Add ammo pot to Sealed Grounds Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 1
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -8050
      posy: 8403.867188
      posz: 30
      name: Tubo
  - name: Remove objects
    type: objdelete
    ids:
      - 0xFC8E # Ruined save statue
      - 0xFC9D # Groosenator before imp 2
      - 0xFC09 # Fi text for trial
    layers: [1, 3, 0]
    room: 1
    objtype: OBJ
  - name: Remove fake Faron trial dowsing target
    type: objdelete
    id: 0xFCA3
    layer: 2
    room: 1
    objtype: STAG

F402: # Sealed Temple
  # Removed all flags and default to layer 0
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 2
        layer: 0
  - name: Add ammo pot to Sealed Temple Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1355
      posy: 7599.990234
      posz: 10540
      name: Tubo
  - name: Remove fake Faron trial dowsing target
    type: objdelete
    id: 0xFC3D
    layer: 0
    room: 2
    objtype: STAG

  - name: Remove cs when entering ST
    type: objpatch
    room: 2
    index: 0
    objtype: PLY
    object:
      play_cutscene: -1 # no cs anymore
  - name: Unlock door to BtT 1
    type: objpatch
    id: 0xFC00
    layer: 0
    room: 2
    objtype: OBJS
    object:
      anglex: 0xFF00 # sets the flag to -1 (meaning open)
  - name: Unlock door to BtT 2
    type: objpatch
    id: 0xFC01
    layer: 0
    room: 2
    objtype: OBJS
    object:
      anglex: 0xFF00 # sets the flag to -1 (meaning open)
  - name: Yeet GoT opening Cutscene
    type: objpatch
    id: 0xFC55
    layer: 4
    room: 2
    objtype: STAG
    object:
      params1: 0xFF03FF05 # scenlink: 5 - skip cutscene of GoT opening
  - name: Move open GoT stuff to layer 0
    type: objmove
    ids:
      - 0xFC55 # GoT Opening cutscene
      - 0xFC4A # Open GoT
    layer: 4
    destlayer: 0
    room: 2
    objtypes: [STAG, OBJ]
  - name: Move objects from layer 2 to layer 0
    type: objmove
    ids:
      - 0xFC4A # Closed Gate of Time
      - 0xFC4E # BotG check
      - 0xFC50 # Playing BotG SwHrp
      - 0xFC51 # Harp Tutorial SwHrp
      - 0xFC54 # Right Zelda door
      - 0xFC55 # Left Zelda door
      - 0xFC56 # Amber Zelda
    layer: 2
    destlayer: 0
    room: 2
    objtype: OBJ
  - name: Move Cam2Tags and Main door
    type: objmove
    ids:
      - 0xFC53 # Main Sealed Temple door
      - 0xFC58 # Playing BotG Cam2Tag
      - 0xFC59 # Harp Tutorial Cam2Tag
    layer: 2
    destlayer: 0
    room: 2
    objtypes: [OBJS, STAG, STAG,]
  - name: Add layer 2 arcs to layer 0
    type: arcnadd
    layer: 0
    room: 2
    arcn:
      - Amber
      - DoorF
      - DoorG
      - PLDoorLarge
      - PLHarpPlay
      - SwitchHarp
      - TimeDoorA
      - TimeDoorB
  - name: Remove extra Impas
    type: objdelete
    ids:
      - 0xFC04 # Post-GoT raised
      - 0xFC0B # Post-imp2
      - 0xFC07 # Post-TMS
      - 0xFC08 # Post-imp3
      - 0xFC17 # Post-Levias
    layer: 0
    room: 2
    objtype: OBJ

  - name: Remove Music and shaking
    type: objpatch
    room: 2
    index: 5
    objtype: EVNT
    object:
      story_flag2: -1 # no Imp trigger stuff
      sceneflag1: 7 # no shaking into vents active
  - name: Unforce layer after Raise GoT CS
    type: objpatch
    room: 2
    index: 3
    objtype: SCEN
    object:
      layer: 0
  - name: Remove Goddess Statue falling down storyflag
    type: objpatch
    room: 2
    index: 7
    objtype: EVNT
    object:
      story_flag2: -1

F403: # Hylia's Realm
  # Change flag 342 (Beat Sky Keep) to -1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 726 # Refight G3
        night: 0
        layer: 4
      - story_flag: 530 # Boss Rush
        night: 0
        layer: 1
      - story_flag: 486 # G3 Defeated
        night: 0
        layer: 3
      - story_flag: 134 # Horde Defeated
        night: 0
        layer: 7
      - story_flag: 347 # Horde Cutscene watched
        night: 0
        layer: 1
      - story_flag: -1 # instead of 342
        night: 0
        layer: 13
  - name: Skip Ghirahim 3 Fight
    onlyif: skip_g3 == on
    type: objpatch
    room: 1
    index: 1
    objtype: EVNT
    object:
      exit_id: 5 # go to post g3 cutscene, sets g3 defeated storyflag
  - name: Skip Demise Fight
    onlyif: skip_demise == on
    type: objpatch
    room: 1
    index: 8
    objtype: SCEN
    object:
      name: F404
      room: 2
      layer: 14
      entrance: 5
      night: 2
      byte5: 1

F404: # Temple of Hylia
  # Removed flags 486 (G3 Defeated), 342 (Beat Sky Keep), and 341 (GoT opened)
  # Force layer 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Delete post-ghirahim 3 impa
    type: objdelete
    id: 0xFC05
    layer: 0
    room: 2
    objtype: OBJ
  - name: Add ammo pot to Temple of Hylia Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1355
      posy: 7599.990234
      posz: 10540
      name: Tubo
  - name: Set Gate of Time opening cutscene watched
    type: objadd
    room: 2
    layer: 0
    objtype: STAG
    object:
      params1: 0xFFFFFFF
      params2: 0xFF5FFFFF
      posx: 0
      posy: 7600
      posz: 10250
      sizex: 20000
      sizey: 20000
      sizez: 20000
      anglex: 344 # Have watched Gate of Time opening Cutscene
      angley: 0
      anglez: 65535
      name: SwAreaT
  - name: Yeet TMS Cutscene
    type: objpatch
    index: 4
    room: 2
    objtype: PLY
    object:
      play_cutscene: -1
  - name: Trigger to Check Triforces
    type: objadd
    room: 2
    layer: 0
    objtype: OBJ
    object:
      params1: 0xFFEA1400 # triggered by triforce completed
      params2: 0xFF1FFFFF
      posx: 0
      posy: 7600
      posz: 8250
      anglex: 0x32FF # sets 7x04
      angley: 0xFFFF
      anglez: 50220 # entrypoint 502_20
      id: 0xFC40
      name: NpcTke

F405: # Sealed Grounds Spiral Cutscene (first cutscene)
  - name: Skip from Spiral Cutscene to Link's room
    onlyif: random_starting_spawn == vanilla
    type: objpatch
    room: 0
    index: 0
    objtype: SCEN
    object:
      name: F001r
      room: 1
      layer: 3
      entrance: 5
      night: 2

F407: # Sky Keep beaten CS
  - name: Sky Keep CS remove Storyflag
    type: objpatch
    room: 0
    index: 2
    objtype: EVNT
    object:
      story_flag2: -1 # first storyflag is handled by entrance rando patches
  - name: Sky Keep CS remove Storyflag
    type: objpatch
    room: 0
    index: 3
    objtype: EVNT
    object:
      story_flag2: -1

D000: # Waterfall Cave
  # Use Midnight Merchant layer at night after completing SotH
  # Might not be necessary?
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 369 # Obtained the Song of the Hero
        night: 1 # Just at night tho
        layer: 1
      - story_flag: -1
        night: 2
        layer: 0
  - name: Remove flag from Crawlspace Rupee
    type: objpatch
    id: 0xFC14
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFF0FFE04 # sceneflag = 0xFF

D003_0: # Sky Keep Courage Room
  - name: Remove Fi texts
    type: objdelete
    ids:
      - 0xFC0F # Fi text
      - 0xFC11 # Fi text reach the mark
    layer: 0
    room: 0
    objtype: OBJ
  - name: Add ammo pot to Sky Keep Courage Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 5 # pretty sure this isn't accessible?
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -300
      posy: 0
      posz: 2495
      name: Tubo

D003_1: # Sky Keep Earth Temple Room
  - name: Add ammo pot to Sky Keep Earth Temple Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 2640
      posy: 0
      posz: 740
      name: Tubo

D003_2: # Sky Keep Power Room
  - name: Remove Fi texts
    type: objdelete
    ids:
      - 0xFC33 # Fi text
      - 0xFC3C # Fi text reach the mark
      - 0xFC32 # Fi text wrong side
    layer: 0
    room: 0
    objtype: OBJ
  - name: Add ammo pot to Sky Keep Power Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 2610
      posy: 0
      posz: -750
      name: Tubo

D003_3: # Sky Keep Wisdom Room
  # Removed flag 730 (Obtained Triforce of Wisdom)
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Remove Fi texts
    type: objdelete
    ids:
      - 0xFC1B # Fi text
      - 0xFC1D # Fi text reach the mark
    layer: 0
    room: 0
    objtype: OBJ
  - name: Add ammo pot to Sky Keep Wisdom Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -2300
      posy: 0
      posz: -540
      name: Tubo

D003_4: # Sky Keep LMF Room
  - name: Add ammo pot to Sky Keep LMF Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 615
      posy: 0
      posz: 2260
      name: Tubo

D003_5: # Sky Keep Skyview Temple Room
  - name: Add ammo pot to Sky Keep Skyview Temple Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -540
      posy: 0
      posz: -2860
      name: Tubo

# D003_6: # Dreadfuse Room

D003_7: # Sky Keep Entrance Room
  - name: Remove objects
    type: objdelete
    ids:
      - 0xFC0B # Fi text
      - 0xFC05 # Bars
    layer: 0
    room: 0
    objtype: OBJ
  - name: Add stone statue to tell goal location
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFF2A2F # entrypoint 107_99
      params2: 0xFFFFFFFF
      posx: 650
      posy: 0
      posz: 2070
      angley: 0xC000
      name: KanbanS
  - name: Remove bars opening cs
    type: objpatch
    id: 0xFC16
    room: 0
    layer: 4
    objtype: STAG
    object:
      params1: 0xFF1516FF # 0x000000FF = event number
  - name: Add ammo pot to Sky Keep Entrance Room Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -610
      posy: 0
      posz: 2015
      name: Tubo

D003_8: # Triforce Room
  - name: Remove last triforce cutscene # this does mean if triforces are vanilla you have to leave yourself
    type: objdelete
    id: 0xFC06
    layer: 0
    room: 0
    objtype: STAG
  - name: Scene Change for Wisdom layer
    type: objadd
    room: 0
    layer: 1
    id: 0xFC20
    objtype: STAG
    object:
      params1: 0x3EFFFF01 # scenlink: 1, triggered by scene flag 62
      params2: 0xFF5FFFFF
      posx: 0
      posy: 0
      posz: 0
      sizex: 10000
      sizey: 10000
      sizez: 10000
      anglex: 0xFFFF
      angley: 0
      anglez: 0xFFFF
      name: ScChang
  - name: Scene Change for Power layer
    type: objadd
    room: 0
    layer: 2
    id: 0xFC20
    objtype: STAG
    object:
      params1: 0x3DFFFF02 # scenlink: 2, triggered by scene flag 61
      params2: 0xFF5FFFFF
      posx: 0
      posy: 0
      posz: 0
      sizex: 10000
      sizey: 10000
      sizez: 10000
      anglex: 0xFFFF
      angley: 0
      anglez: 0xFFFF
      name: ScChang
  - name: Scene Change for Courage layer
    type: objadd
    room: 0
    layer: 3
    id: 0xFC20
    objtype: STAG
    object:
      params1: 0x40FFFF03 # scenlink: 3, triggered by scene flag 64
      params2: 0xFF5FFFFF
      posx: 0
      posy: 0
      posz: 0
      sizex: 10000
      sizey: 10000
      sizez: 10000
      anglex: 0xFFFF
      angley: 0
      anglez: 0xFFFF
      name: ScChang
  - name: layer 2 in Wisdom room
    type: objpatch
    index: 1
    room: 0
    objtype: SCEN
    object:
      layer: 2 # force layer 2 so the barbed wire is gone

D100: # Skyview Temple
  # Removed flags 11 (Beat Ancient Cistern / Rail tracks), 206 (Obtained Water Dragon's Scale), and 4 (Watched Enter SVT CS)
  # Change default layer to 1 instead of 0
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1 # Force layer 1 instead of 0
  - name: Yeet Skyview Temple Intro Cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Skyview Temple Entrance Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 145
      posy: 1124.349976
      posz: 6115
      name: Tubo
  - name: Add ammo pot to Skyview Temple First Hub Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 750
      posy: 0
      posz: -1670
      name: Tubo
  - name: Add ammo pot to Skyview Temple Second Hub Room Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -3490
      posy: 0
      posz: -8540
      name: Tubo
  - name: Add ammo pot to Skyview Temple before Boss Door Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 9
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1160
      posy: 300
      posz: -16960
      name: Tubo
  # TODO: make this better
  - name: Add Eye Arc to room 1
    type: arcnadd
    layer: 0
    room: 1
    arcn:
      - SwitchEye
  - name: Add Eye Arc to room 4
    type: arcnadd
    layer: 0
    room: 4
    arcn:
      - SwitchEye
  - name: Add Eye Arc to room 7
    type: arcnadd
    layer: 0
    room: 7
    arcn:
      - SwitchEye
  # objdeletes
  - name: Remove Empty Soil
    type: objdelete
    id: 0xFC50
    layer: 1
    room: 4
    objtype: OBJ
  - name: Remove initial Fi text in Skyview 1
    type: objdelete
    id: 0xFC4C
    layer: 1
    room: 0
    objtype: OBJ
  - name: Remove cutscene in hub room
    type: objdelete
    id: 0xFC85
    layer: 1
    room: 5
    objtype: STAG
  # objmoves
  - name: Move Small Key Digspot to layer 0
    type: objmove
    id: 0xFC4B
    layer: 2
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Move Rupees under West Walkway before Hub Room to layer 0
    type: objmove
    ids:
      - 0xFC9C # First
      - 0xFC9B # Second
    layer: 1
    destlayer: 0
    room: 2
    objtype: OBJ

  # Eye switches
  ## 1 eye
  - name: Move First Eye to layer 0
    type: objmove
    ids:
      - 0xFC17 # Eye
      - 0xFC1A # CamTag
      - 0xFC19 # SwAreaT
    layer: 1
    destlayer: 0
    room: 1
    objtypes: [OBJ, STAG, STAG]
  ## 2 eyes
  - name: Move Right Room Eyes to layer 0
    type: objmove
    startid: 0xFC48
    endid: 0xFC4A
    layer: 1
    destlayer: 0
    room: 4
    objtype: OBJ
  ## 3 eyes
  - name: Move Left Room Eyes to layer 0
    type: objmove
    startid: 0xFC31
    endid: 0xFC34
    layer: 1
    destlayer: 0
    room: 7
    objtype: OBJ

  - name: Patch DieTag to Directly Open the Chest
    type: objpatch
    id: 0xFC0B
    layer: 0
    room: 10
    objtype: STAG
    object:
      setscenefid: 14 # Chest spawned
  - name: Add TgTimer to set door sceneflag
    type: objadd
    layer: 0
    room: 10
    objtype: STAG
    object:
      params1: 0 # will become 0x0D0E0101
      params2: 0xFFFFFFFF
      posx: 0
      posy: -210
      posz: -8115
      sizex: 100
      sizey: 100
      sizez: 100
      subtype: 1
      timer: 1 # 1*30 (frames??)
      trigscenefid: 14 # Chest spawned
      setscenefid: 13 # Door opened from inside
      name: TgTimer
  - name: Remove Fi triggers in Miniboss room
    type: objdelete
    ids:
      - 0xFC1A # Fi text about hitting the miniboss switch again
      - 0xFC1B # Fi text explaining what the Beetle item is
    layer: 1
    room: 10
    objtype: OBJ

  - name: Move Item behind Bars down
    type: objpatch
    id: 0xFC2B
    layer: 0
    room: 5
    objtype: OBJ
    object:
      posy: -210

B100: # Ghirahim 1 Boss Room
  # Removed flags 67 (Triple Stalfos Defeated), 206 (Obtained Water Dragon's Scale), and 5 (Beat Skyview Temple)
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 530 # Boss Rush
        night: 0
        layer: 5
      - story_flag: 83 # Ghirahim 1 Defeated
        night: 0
        layer: 1
      - story_flag: -1
        night: 0
        layer: 13
  - name: only play CS when ghirahim hasn't been defeated
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: 83 # ghirahim defeated
  - name: move first time loadzone to layer 0
    type: objmove
    id: 0xFC18
    layer: 1
    destlayer: 0
    room: 0
    objtype: STAG

B100_1: # Skyview Spring
  # Removed flags 65 (Healed Water Dragon), 206 (Obtained Water Dragon's Scale), and 83 (G1 Defeated)
  # Change default layer from 0 to 1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 5 # Beat Skyview Temple
        night: 0
        layer: 2
      - story_flag: -1
        night: 0
        layer: 1 # Force layer 1 instead of 0
  - name: Patch Goddess Crest to not play Cutscene
    type: objpatch
    id: 0xFC05
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFF0369 # 0xFFFF, 03 = scen_link 3, 69 = scene flag 105 (vanilla)
  - name: Fi text after skyview CS
    type: objpatch
    id: 0xFC73
    layer: 2
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF1 # last 1 is subtype (not talk to fi)
      trigscenefid: 105 # Goddess Crest hit
  - name: Move post-crest objects
    type: objmove
    ids:
      - 0xFC73 # Fi text after Skyview Cutscene
      - 0xFC74 # Loadzone to outside
    layer: 2
    destlayer: 0
    room: 0
    objtypes: [OBJ, STAG]
  - name: Remove small cutscene
    type: objdelete
    ids:
      - 0xFC73 # Small Cutscene
      - 0xFC63 # Trial dowsing target
    layers: [1, 0]
    room: 0
    objtype: STAG

D101: # Ancient Cistern
  - name: Yeet Ancient Cistern Intro Cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Ancient Cistern Entrance Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -560
      posy: 0
      posz: -5020
      name: Tubo
  - name: Add ammo pot to Ancient Cistern Pipes Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 4
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -5225
      posy: -3410.026367
      posz: 4250
      name: Tubo
  - name: Add ammo pot to Ancient Cistern after Pipes Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -310
      posy: 0
      posz: -5450
      name: Tubo
  - name: Add ammo pot to Ancient Cistern after Thread Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -4080
      posy: 1000
      posz: -2750
      name: Tubo
  - name: Add ammo pot to Ancient Cistern before Boss Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 520
      posy: 7569.609863
      posz: 1370
      name: Tubo
  - name: Remove Inside Statue Cutscenes
    type: objdelete
    ids:
      - 0xFC1F # Inside statue
      - 0xFC1A # Water spout inside statue
    layer: 0
    room: 10
    objtype: STAG
  - name: Remove BK panning Cutscene
    type: objdelete
    id: 0xFC7D # In basement showing Boss Key chest
    layer: 0
    room: 4
    objtype: STAG
  - name: Remove Waterfall switch Lily Pad Cutscene (room 0)
    type: objdelete
    id: 0xFC8D
    layer: 0
    room: 0
    objtype: STAG
  - name: Remove Lily Pad Cutscenes
    type: objdelete
    ids:
      - 0xFC1B # East part
      - 0xFC1C # East part
    layer: 0
    room: 1
    objtype: STAG
  - name: Remove East part main Lily Pad Cutscene (room 2)
    type: objdelete
    id: 0xFC29
    layer: 0
    room: 2
    objtype: STAG
  - name: Remove Underground Lily Pad Cutscene (room 4)
    type: objdelete
    id: 0xFC83
    layer: 0
    room: 4
    objtype: STAG
  - name: Remove Lily Pad with Rupee Check Cutscene (room 5)
    type: objdelete
    ids:
      - 0xFC37 # Cam2Tag
      - 0xFC38 # Cam2Tag
      - 0xFC43 # Evnt
      - 0xFC49 # Evnt
    layer: 0
    room: 5
    objtype: STAG
  - name: Reload Exit
    type: objadd
    room: 10
    index: 0
    objtype: SCEN
    object:
      name: D101
      room: 0
      layer: 0
      entrance: 0
      night: 2
      byte5: 2
      flag6: 0
      zero: 0
      saveprompt: 0
  - name: Move Rupee under Lilypad # So it doesn't get caught up in the water stream
    type: objpatch
    id: 0xFC22
    layer: 0
    room: 5
    objtype: OBJ
    object:
      posx: -800
      posy: -310
      posz: -7590
  - name: Move Rupee in East Hand
    type: objpatch
    id: 0xFC56
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posy: -890
  - name: Move Rupee in West Hand
    type: objpatch
    id: 0xFC57
    layer: 0
    room: 0
    objtype: OBJ
    object:
      posy: -890
  - name: Add extra Bomb Flower
    type: objadd
    layer: 0
    room: 7
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: 371
      posy: -2410
      posz: 2592
      anglex: 0
      angley: 0
      anglez: 0
      id: 0xFD01
      name: Bombf

B101: # Koloktos Boss Room
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 530 # Boss Rush
        night: 0
        layer: 2
      - story_flag: 648 # Koloktos Defeated
        night: 0
        layer: 3
      - story_flag: -1
        night: 0
        layer: 1
  - name: Open door after boss
    type: objpatch
    room: 0
    layer: 1
    id: 0xFC13
    objtype: OBJS
    object:
      params1: 0xFFFD3000
  - name: Open door after boss
    type: objpatch
    room: 0
    layer: 3
    id: 0xFC15
    objtype: OBJS
    object:
      params1: 0xFFFD3000

B101_1: # Ancient Cistern Crest Room
  - name: Remove Farore's Flame Cutscene
    type: objpatch
    room: 0
    index: 2
    objtype: SCEN
    object:
      name: F102_1
      layer: 0
      entrance: 6
      saveprompt: 1
  - name: Fi text before AC CS
    type: objadd
    room: 0
    layer: 0
    id: 0xFC00
    objtype: OBJ
    object:
      params1: 0xFFFFFF01 # type 1, no fi, flag sets automatically
      params2: 0xFF1FFFFF
      posx: 0
      posy: 0 # doesn't matter, is triggered anywhere
      posz: 0
      angley: 0xFFFF
      anglez: 20231 # entrypoint 202_31
      id: 0xFC00
      name: NpcTke
      trigscenefid: 86 # goddess crest hit
      untrigscenefid: 85 # unused flag
  - name: Loadzone to outside
    type: objpatch
    room: 0
    layer: 0
    id: 0xFC0B
    objtype: STAG
    object:
      trigscenefid: 195
      anglez: 0xFFFF # don't set any storyflag here

D200: # Earth Temple
  - name: Yeet Earth Temple Intro Cutscene
    type: objpatch
    index: 0
    room: 1
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Earth Temple Entrance Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 1
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 840
      posy: 0
      posz: 14325
      name: Tubo
  - name: Add ammo pot to Earth Temple Hub Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 1
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 995
      posy: 0
      posz: 65
      name: Tubo
  - name: Add ammo pot to Earth Temple Gate Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 2
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 9080
      posy: 450
      posz: -4640
      name: Tubo
  - name: Add ammo pot to Earth Temple Boss Door Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 4
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -9575
      posy: 6050
      posz: -13970
      name: Tubo
  - name: Remove text triggers
    type: objdelete
    ids:
      - 0xFC51 # Ledd text before Bomb Bag (NpcTke)
      - 0xFC52 # Bomb Bag from Ledd (NpcTke)
      - 0xFC53 # 5 Bombs from Ledd (NpcTke)
      - 0xFC5E # Fi text after bridge (NpcTke)
    layer: 0
    room: 1
    objtype: OBJ
  - name: Remove Before boulder to Bomb Bag Cutscene
    type: objdelete
    id: 0xFC6D
    layer: 0
    room: 1
    objtype: STAG
  - name: Remove Boss Door Cutscenes
    type: objdelete
    ids:
      - 0xFC68 # Showing Boss Door
      - 0xFC65 # After Lavafall
    layer: 0
    room: 4
    objtype: STAG
  - name: Keep Ledd after Beating ET
    type: objpatch
    id: 0xFC50
    layer: 0
    room: 1
    objtype: OBJ
    object:
      untrigstoryfid: 2047
  - name: Change untrigger of lavafall in front of Boss Door
    type: objpatch
    id: 0xFC1F
    layer: 0
    room: 4
    objtype: OBJ
    object:
      params1: 0x3F02050F

B200: # Scaldera Boss Room
  # Change flag 5 (Beat Skyview Temple) to -1
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 530 # Boss Rush
        night: 0
        layer: 3
      - story_flag: 7 # Beat ET
        night: 0
        layer: 1
      - story_flag: -1
        night: 0
        layer: 2
  - name: Remove cutscene/text triggers
    type: objdelete
    ids:
      - 0xFC27 # Spring Cutscene
      - 0xFC36 # Boulder Cutscene
      - 0xFC30 # Fi text
    layers: [0, 2, 2]
    room: 10
    objtypes: [STAG, STAG, OBJ]

B210: # Earth Spring
  - name: Patch entrance to not play Cutscene
    type: objpatch
    room: 0
    index: 3
    objtype: SCEN
    object:
      layer: 0
      entrance: 4
  - name: Fi text after ET CS
    type: objpatch
    room: 0
    layer: 0
    id: 0xFC09
    objtype: OBJ
    object:
      params1: 0xFFFFFFF1

D201: # Fire Sanctuary A (outer)
  - name: Yeet Fire Sanctuary Intro Cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Fire Sanctuary Entrance Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1275
      posy: 1100
      posz: 6105
      name: Tubo
  - name: Add ammo pot to Fire Sanctuary Lava Chase Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 3
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -7020
      posy: 0
      posz: -15790
      name: Tubo
  - name: Add ammo pot to Fire Sanctuary Boss Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 10
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 110
      posy: -550
      posz: -14240
      name: Tubo
  - name: Remove guld
    type: objdelete
    ids:
      - 0xFC07 # Guld
      - 0xFC08 # Guld trigger
    layer: 0
    room: 0
    objtype: OBJ
  - name: Remove BK chest panning cutscene
    type: objdelete
    id: 0xFC44
    layer: 0
    room: 4
    objtype: STAG

D201_1: # Fire Sanctuary B (inner)
  - name: Yeet Fire Sanctuary Intro Cutscene
    type: objpatch
    index: 0
    room: 6
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Fire Sanctuary Entrance Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 1275
      posy: 1100
      posz: 6105
      name: Tubo
  - name: Add ammo pot to Fire Sanctuary after First Locked Door Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 6
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -120
      posy: 1100
      posz: -1165
      name: Tubo
  - name: Add ammo pot to Fire Sanctuary before Bridge Lizalfos Fight Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 1
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 3210
      posy: 200
      posz: -5131
      name: Tubo
  - name: Add ammo pot to Fire Sanctuary before Double Magmanos Fight Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 7
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -11460
      posy: 600
      posz: -10005
      name: Tubo
  - name: Add ammo pot to Fire Sanctuary before 3rd Locked Door Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -7475
      posy: -550
      posz: -11560
      name: Tubo
  - name: Add ammo pot to Fire Sanctuary Boss Room Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 10
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 110
      posy: -550
      posz: -14240
      name: Tubo
  - name: Clawshot Target for 2nd small Key
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFFFFC24
      params2: 0xFFFFFFFF
      posx: -5743
      posy: 650
      posz: -8514
      anglex: 0
      angley: 36894
      anglez: 0
      id: 0xFC20
      name: ClawSTg
  # HD is weird :p
  - name: Move first trapped Mogma lever down to be reachable
    type: objpatch
    room: 5
    layer: 0
    id: 0xFC0E
    objtype: OBJ
    object:
      posy: -200
  - name: Remove Magmanos Cutscenes/Text
    type: objdelete
    ids:
      - 0xFC11 # First trapped Mogma Cutscene
      - 0xFC2B # Double Magmanos Cutscene (Can softlock apparently - from SD)
      - 0xFC1E # Text after Magmanos
      - 0xFC23 # Text after Magmanos
      - 0xFC66 # Mogma Mitts tutorial text
      - 0xFC2C # Camera pan after Mogma Mitts
    layer: 0
    room: 5
    objtypes: [OBJ, STAG, OBJ, OBJ, OBJ, STAG]
  - name: Remove Sealed Grounds intro CS flag
    type: objpatch
    room: 6
    objtype: EVNT
    index: 1
    object:
      story_flag1: -1
  - name: Delete Camera Pan in first magmanos room
    type: objdelete
    id: 0xFC1B
    layer: 0
    room: 1
    objtype: STAG
  - name: Remove npctkes in 2nd trapped mogma room
    type: objdelete
    ids:
      - 0xFC09 # 2nd trapped mogma text
      - 0xFC16 # can't leave text
    layer: 0
    room: 2
    objtype: OBJ

B201: # Ghirahim 2 Boss Room
  # Change FS beaten flag from 13 to 901
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 530 # Boss Rush
        night: 0
        layer: 3
      - story_flag: 901 # Fire Sanctuary Beaten
        night: 0
        layer: 2
      - story_flag: 84 # G2 Defeated
        night: 0
        layer: 1
      - story_flag: -1
        night: 0
        layer: 13

B201_1: # Fire Sanctuary Crest Room
  - name: Remove Din's Flame Cutscene
    type: objpatch
    room: 0
    index: 1
    objtype: SCEN
    object:
      name: F201_3
      layer: 0
      entrance: 1
      saveprompt: 1
  - name: Fi text before FS CS
    type: objadd
    room: 0
    layer: 0
    id: 0xFC00
    objtype: OBJ
    object:
      params1: 0xFFFFFF01 # untriggered by 901, storyflag for beating fire sanctuary
      params2: 0xFF1FFFFF
      posx: 0
      posy: 0 # doesn't matter, is triggered anywhere
      posz: 0
      angley: 0xFFFF
      anglez: 30407 # entrypoint 304_07
      id: 0xFC00
      name: NpcTke
      trigscenefid: 95 # goddess crest hit
      untrigscenefid: 121 # sets in flame CS normally
  - name: Loadzone to outside
    type: objpatch
    room: 0
    layer: 0
    id: 0xFC0A
    objtype: STAG
    object:
      trigscenefid: 195
      anglez: 0xFFFF # don't set any storyflag here

D300: # Lanayru Mining Facility A (front)
  - name: Yeet Lanayru Mining Facility Intro Cutscene
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Lanayru Mining Facility Entrance Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -1035
      posy: 0
      posz: 2180
      name: Tubo
  - name: Remove objects blocking exit door in Hop across boxes room
    type: objdelete
    ids:
      - 0xFC35 # Sand
      - 0xFC4E # Wall
    layer: 0
    room: 4
    objtype: SOBJ
  - name: Door in Gust Bellow room Blocking Door
    type: objpatch
    id: 0xFC12
    layer: 0
    room: 4
    objtype: OBJS
    object:
      params1: 0xF7FFFC20
  - name: extra Bomb flower
    type: objadd
    layer: 0
    room: 6
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: -6150
      posy: 1050
      posz: -10108
      anglex: 0
      angley: 0
      anglez: 0
      id: 0xFC50
      name: Bombf

D300_1: # Lanayru Mining Facility B (back)
  - name: Add ammo pot to Lanayru Mining Facility Entrance Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -1035
      posy: 0
      posz: 2180
      name: Tubo
  - name: Add ammo pot to Lanayru Mining Facility South Hub Room Bird Statue
    onlyif: ammo_availability == useful or ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -560
      posy: 600
      posz: -8850
      name: Tubo
  - name: Add ammo pot to Lanayru Mining Facility before Boss Room Left Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -3880
      posy: 1100
      posz: -20740
      name: Tubo
  - name: Add ammo pot to Lanayru Mining Facility before Boss Room Right Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 3990
      posy: 1100
      posz: -22785
      name: Tubo
  - name: Remove CS after blowing up boxes # Only one of the boxes plays the CS
    type: objpatch
    id: 0xFC62
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFF5CFF0 # Was 0xF035CFF0; 0x0FF00000 = eventid
  - name: Close door to BK room from both sides
    type: objpatch
    index: 6 # all have id FFFF :(
    layer: 0
    objtype: DOOR
    object:
      anglex: 0x1313
  - name: Visual fence from BK room side
    type: objadd
    layer: 0
    room: 8
    objtype: OBJ
    object:
      params1: 0xCF134401
      params2: 0xFF5FFFFF
      posx: 5050
      posy: 600
      posz: -14350
      anglex: 0xFF00
      angley: 0x4000
      anglez: 0xFFFF
      id: 0xFC00
      name: Fence
  - name: Anti-softlock Bomb Flower
    type: objadd
    layer: 0
    room: 5
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: 4716
      posy: 600
      posz: -14716
      anglex: 0
      angley: 0
      anglez: 0
      id: 0xFC00
      name: Bombf

B300: # Moldarach Boss Room
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 812 # Opened door after defeating Moldy
        night: 0
        layer: 3
      - story_flag: 530 # Boss Rush
        night: 0
        layer: 2
      - story_flag: -1
        night: 0
        layer: 1

D301: # Sandship A (main)
  - name: Yeet Sandship Intro Cutscene 1
    type: objpatch
    index: 0
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Yeet Sandship Intro Cutscene 2
    type: objpatch
    index: 5
    room: 0
    objtype: PLY
    object:
      storyflag: -1
      play_cutscene: -1
  - name: Add ammo pot to Sandship before Scervo Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 1
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -4980
      posy: 0
      posz: 675
      name: Tubo
  - name: Add ammo pot to Sandship Captain's Cabin Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 13
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: 4810
      posy: 0
      posz: -595
      name: Tubo
  - name: Add ammo pot to Sandship before Boss Door Bird Statue
    onlyif: ammo_availability == plentiful
    type: objadd
    layer: 0
    room: 9
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFEFFFFFF # 0xFE000000 -> arrows, bombs, and seeds
      posx: -2770
      posy: -1600
      posz: 1690
      name: Tubo
  - name: Add extra Bomb Flower
    type: objadd
    layer: 0
    room: 0
    objtype: OBJ
    object:
      params1: 0xFFFFFFF0
      params2: 0xFFFFFFFF
      posx: 6397
      posy: -1243.4300537109375
      posz: 67
      anglex: 0
      angley: 0
      anglez: 0
      id: 0xFC50
      name: Bombf
  - name: Add Heart Container and Crest Arcs to normal layer
    type: arcnadd
    layer: 1
    room: 0
    arcn:
      - GoddessSymbolSc
      - PutHeartUtuwa
      - SwordCandle
  - name: Move Heart Container to layer 1
    type: objmove
    ids:
      - 0xFC53 # Heart container
      - 0xFC54 # Candle
    layer: 9
    destlayer: 1
    room: 0
    objtype: OBJ
  - name: Remove Fi text Before Boss Door
    type: objdelete
    id: 0xFC43
    layer: 4
    room: 9
    objtype: OBJ
  - name: Remove Fi text Generator 1
    type: objdelete
    id: 0xFC0F
    layer: 1
    room: 7
    objtype: OBJ
  - name: Remove Fi text Generator 2
    type: objdelete
    id: 0xFC12
    layer: 1
    room: 5
    objtype: OBJ
  - name: Remove Scervo Fi texts
    type: objdelete
    ids:
      - 0xFC07 # After Scervo
      - 0xFC08 # After Scervo chest
    layer: 2
    room: 15
    objtype: OBJ
  - name: Remove Fi text After revealed timeshift stone
    type: objdelete
    id: 0xFC4C
    layer: 1
    room: 0
    objtype: OBJ
  - name: Fi text after hitting Sandship Crest
    type: objadd
    room: 0
    layer: 1
    id: 0xFC00
    objtype: OBJ
    object:
      params1: 0xFFFFFF01 # subtype to not trigger fi, but set flag
      params2: 0xFF1FFFFF
      posx: 0
      posy: 0 # doesn't matter, is triggered anywhere
      posz: 0
      angley: 0xFFFF
      anglez: 40108 # entrypoint 401_08
      id: 0xFC00
      name: NpcTke
      trigscenefid: 84 # and triggered by sceneflag 84, which is goddess crest hit
      untrigscenefid: 87 # unused flag to untrigger
  - name: Trigger Dungeon Exit
    type: objadd
    layer: 0
    room: 0
    objtype: STAG
    object:
      params1: 0xC303FF07 # scenlink: 7, triggered by zone temp flag 3
      params2: 0xFF5FFFFF
      posx: -4118
      posy: 500
      posz: 1914
      sizex: 50000
      sizey: 500
      sizez: 50000
      anglex: 0xFFFF # no trigger storyflag
      angley: 0
      anglez: 0xFFFF # no untrigger cause zone temp flag is unset after load
      id: 0xFC00
      name: ScChang
  - name: Flame CS Exit
    type: objadd
    room: 0
    index: 7
    objtype: SCEN
    object:
      name: F301
      room: 0
      layer: 0
      entrance: 1
      night: 2
      byte5: 0
      flag6: 0
      zero: 0
      saveprompt: 1
  - name: Remove Boss Door loadzone after beating dungeon
    type: objpatch
    id: 0xFC45
    layer: 4
    room: 9
    objtype: STAG
    object:
      anglez: 933 # untriggerstoryflag, defeat tentalus

D301_1: # Sandship B (escape)
  - name: Fi texts before tentalus
    type: objdelete
    ids:
      - 0xFC1D
      - 0xFC1E
    layer: 0
    room: 0
    objtype: OBJ

B301: # Tentalus Boss Room
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 530 # Boss Rush
        night: 0
        layer: 2
      - story_flag: -1
        night: 0
        layer: 1
  - name: Sandship CS remove item
    type: objpatch
    room: 0
    index: 1
    objtype: EVNT
    object:
      story_flag1: -1
      story_flag2: 933 # set defeat tentalus storyflag
      item: -1
  - name: Remove Nayru's Flame Cutscene
    type: objpatch
    room: 0
    index: 3
    objtype: SCEN
    object:
      name: F301
      layer: 0
      entrance: 3
      saveprompt: 1
  - name: Fi text before SSH CS
    type: objadd
    room: 0
    layer: 0
    id: 0xFC00
    objtype: OBJ
    object:
      params1: 0xFFFFFF01 # subtype for not talking to Fi, but setting the untriggerflag
      params2: 0xFF1FFFFF
      posx: 0
      posy: 0 # doesn't matter, is triggered anywhere
      posz: 0
      angley: 0xFFFF
      anglez: 40108 # entrypoint 401_08
      id: 0xFC00
      name: NpcTke
      trigscenefid: 84
      untrigscenefid: 87
  - name: Fi text to force leave boss room
    type: objadd
    room: 0
    layer: 1
    id: 0xFC00
    objtype: OBJ
    object:
      params1: 0xFFFFFF0B # subtype 0xB for Fi and no storyflag set
      params2: 0xFF1FFFFF
      posx: 0
      posy: 0 # doesn't matter, is triggered anywhere
      posz: 0
      angley: 0xFFFF
      anglez: 40118 # entrypoint 401_18
      id: 0xFC00
      name: NpcTke
      trigscenefid: 85
      untrigscenefid: 0xFF
      untrigstoryfid: 907 # untriggered by 907, storyflag for having goddess sword
  - name: Loadzone to outside
    type: objpatch
    room: 0
    layer: 1
    id: 0xFC12
    objtype: STAG
    object:
      params1: 0xC303FF03 # change to zone temp flag 3
      anglez: 0xFFFF # no untrigger flag

# B400: Demise Boss Room

# S000: # The Goddess's Silent Realm

S100: # Farore's Silent Realm
  - name: Fi text near waking water
    type: objdelete
    id: 0xFCDB
    layer: 2
    room: 0
    objtype: OBJ

S200: # Din's Silent Realm
  - name: Unforce layer
    type: objpatch
    room: 2
    index: 1
    objtype: SCEN
    object:
      layer: 0

# Patch stamina fruit to keep assumption
# of rot.x being the tilt
S300: # Nayru's Silent Realm
  - name: Patch vine stamina fruit 1
    type: objpatch
    id: 0xFC36
    room: 0
    layer: 2
    objtype: OBJ
    object:
      anglex: 0x4000
      angley: 0xC000
      anglez: 0x0000
  - name: Patch vine stamina fruit 2
    type: objpatch
    id: 0xFC2D
    room: 0
    layer: 2
    objtype: OBJ
    object:
      anglex: 0x4000
      angley: 0x4000
      anglez: 0x0000
